{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# YU Torah Online Recommender System - Code"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Marlee Goodman\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### The set up"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "# import libraries\n",
    "from bs4 import BeautifulSoup\n",
    "from bs4 import BeautifulSoup as bs\n",
    "import requests\n",
    "import numpy as np\n",
    "import pandas as pd"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Because YU Torah Online has over 300,000 lectures, we'll create a recommender system using just 50 lectures from the site. (That's about all my computer can handle.)\n",
    "\n",
    "I randomly pulled lecture 1051657. (Note that there are around 300,000 lectures currently online, but the lecture page number can go past 1 million. I assume this is because they have removed lectures from the site over the years.)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Part A: Scraping the website for lecture titles, lecturer names, categories, and descriptions"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "#starting page is lecture 1051657\n",
    "page = 1051657\n",
    "#create titles list (which also includes lecturer names)\n",
    "titles = []\n",
    "#for the next 50 pages, get the title in each page\n",
    "while page != 1051707:\n",
    "      url = f\"https://www.yutorah.org/lectures/lecture.cfm/{page}/\"\n",
    "      response = requests.get(url)\n",
    "      html = response.content\n",
    "      soup = bs(html, \"lxml\")\n",
    "      for title in soup.find_all('title'):\n",
    "            titles.append(title.get_text(strip=True))\n",
    "      page = page + 1"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'YUTorah Online - Parshas Vayishlach : Holding On (Rabbi Chaim Yagoda)'"
      ]
     },
     "execution_count": 3,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#title results example\n",
    "titles[10]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [],
   "source": [
    "page = 1051657\n",
    "cats = []\n",
    "#for the next 50 pages, get the category for each lecture\n",
    "while page != 1051707:\n",
    "      url = f\"https://www.yutorah.org/lectures/lecture.cfm/{page}/\"\n",
    "      response = requests.get(url)\n",
    "      html = response.content\n",
    "      soup = bs(html, \"lxml\")\n",
    "      for cat in soup.find_all(\"div\", class_=\"category-group-name mark\"):\n",
    "            cats.append(cat.get_text(strip=True))\n",
    "      page = page + 1"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'Parsha:'"
      ]
     },
     "execution_count": 5,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#category results example\n",
    "cats[5]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [],
   "source": [
    "page = 1051657\n",
    "descriptions = []\n",
    "#for the next 50 pages, get the description for each lecture\n",
    "while page != 1051707:\n",
    "      url = f\"https://www.yutorah.org/lectures/lecture.cfm/{page}/\"\n",
    "      response = requests.get(url)\n",
    "      html = response.content\n",
    "      soup = bs(html, \"lxml\")\n",
    "      metatags = soup.find_all('meta',attrs={'name':'description'})\n",
    "      for tag in metatags:\n",
    "            descriptions.append(tag)\n",
    "      page = page + 1\n",
    "   "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'Online study of the Jewish holidays, Parsha, Halakha and Talmud by Yeshiva University'"
      ]
     },
     "execution_count": 7,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#remove the meta tag\n",
    "desc=[meta[\"content\"] for meta in descriptions]\n",
    "#description results example\n",
    "desc[15]\n",
    "   "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Part B: Content-based recommender"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "(code largely followed from Emma Grimaldi's https://towardsdatascience.com/how-to-build-from-scratch-a-content-based-movie-recommender-with-natural-language-processing-25ad400eb243)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Preparing the data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Title</th>\n",
       "      <th>Title&amp;Name</th>\n",
       "      <th>Category</th>\n",
       "      <th>Description</th>\n",
       "      <th>combine</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>YUTorah Online - The Basics of Taharos: Why wa...</td>\n",
       "      <td>YUTorah Online - The Basics of Taharos: Why wa...</td>\n",
       "      <td>Machshava:</td>\n",
       "      <td>Length 28 min 45 sec Machshava - Chanukah, Gem...</td>\n",
       "      <td>YUTorah Online - The Basics of Taharos: Why wa...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>YUTorah Online - Kiddush - Opinions 1 &amp; 2 - yo...</td>\n",
       "      <td>YUTorah Online - Kiddush - Opinions 1 &amp; 2 - yo...</td>\n",
       "      <td>Gemara:</td>\n",
       "      <td>Length 12 min 22 sec Series Daily Shiur Halach...</td>\n",
       "      <td>YUTorah Online - Kiddush - Opinions 1 &amp; 2 - yo...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>YUTorah Online - LA SHIUR(VAYISHLACH 5782): HA...</td>\n",
       "      <td>YUTorah Online - LA SHIUR(VAYISHLACH 5782): HA...</td>\n",
       "      <td>Halacha:</td>\n",
       "      <td>Length 38 min 59 sec Parsha - Vayishlach...</td>\n",
       "      <td>YUTorah Online - LA SHIUR(VAYISHLACH 5782): HA...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>YUTorah Online - DRS SHIUR(VAYISHLACH 5782): T...</td>\n",
       "      <td>YUTorah Online - DRS SHIUR(VAYISHLACH 5782): T...</td>\n",
       "      <td>Halacha:</td>\n",
       "      <td>Length 42 min 59 sec...</td>\n",
       "      <td>YUTorah Online - DRS SHIUR(VAYISHLACH 5782): T...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>YUTorah Online - Yaakov: A Weakening Leader or...</td>\n",
       "      <td>YUTorah Online - Yaakov: A Weakening Leader or...</td>\n",
       "      <td>Parsha:</td>\n",
       "      <td>Length 9 min 59 sec Parsha - Vayeishev...</td>\n",
       "      <td>YUTorah Online - Yaakov: A Weakening Leader or...</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                               Title  \\\n",
       "0  YUTorah Online - The Basics of Taharos: Why wa...   \n",
       "1  YUTorah Online - Kiddush - Opinions 1 & 2 - yo...   \n",
       "2  YUTorah Online - LA SHIUR(VAYISHLACH 5782): HA...   \n",
       "3  YUTorah Online - DRS SHIUR(VAYISHLACH 5782): T...   \n",
       "4  YUTorah Online - Yaakov: A Weakening Leader or...   \n",
       "\n",
       "                                          Title&Name    Category  \\\n",
       "0  YUTorah Online - The Basics of Taharos: Why wa...  Machshava:   \n",
       "1  YUTorah Online - Kiddush - Opinions 1 & 2 - yo...     Gemara:   \n",
       "2  YUTorah Online - LA SHIUR(VAYISHLACH 5782): HA...    Halacha:   \n",
       "3  YUTorah Online - DRS SHIUR(VAYISHLACH 5782): T...    Halacha:   \n",
       "4  YUTorah Online - Yaakov: A Weakening Leader or...     Parsha:   \n",
       "\n",
       "                                         Description  \\\n",
       "0  Length 28 min 45 sec Machshava - Chanukah, Gem...   \n",
       "1  Length 12 min 22 sec Series Daily Shiur Halach...   \n",
       "2        Length 38 min 59 sec Parsha - Vayishlach...   \n",
       "3                            Length 42 min 59 sec...   \n",
       "4          Length 9 min 59 sec Parsha - Vayeishev...   \n",
       "\n",
       "                                             combine  \n",
       "0  YUTorah Online - The Basics of Taharos: Why wa...  \n",
       "1  YUTorah Online - Kiddush - Opinions 1 & 2 - yo...  \n",
       "2  YUTorah Online - LA SHIUR(VAYISHLACH 5782): HA...  \n",
       "3  YUTorah Online - DRS SHIUR(VAYISHLACH 5782): T...  \n",
       "4  YUTorah Online - Yaakov: A Weakening Leader or...  "
      ]
     },
     "execution_count": 8,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#put all scraped data from above into dataframe\n",
    "s = pd.DataFrame(\n",
    "    {'Title':titles,\n",
    "     'Title&Name': titles,\n",
    "     'Category': cats,\n",
    "     'Description': desc\n",
    "    })\n",
    "\n",
    "#combine columns into one column\n",
    "s['combine'] = s['Title&Name'] + s['Category'] + s['Description']\n",
    "\n",
    "s.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [],
   "source": [
    "#import more packages\n",
    "from rake_nltk import Rake\n",
    "import numpy as np\n",
    "from sklearn.metrics.pairwise import cosine_similarity\n",
    "from sklearn.feature_extraction.text import CountVectorizer\n",
    "\n",
    "# creating a new column called Key Words\n",
    "s['Key_words'] = \"\"\n",
    "\n",
    "for index, row in s.iterrows():\n",
    "    d = row['combine']\n",
    "    \n",
    "    # Rake uses English stopwords from NLTK package and discards all punctuation \n",
    "    r = Rake()\n",
    "\n",
    "    # passing the combined column text in order to extract key words \n",
    "    r.extract_keywords_from_text(d)\n",
    "\n",
    "    # getting a dictionary with key words and their scores\n",
    "    key_words_dict_scores = r.get_word_degrees()\n",
    "    \n",
    "    # putting the key words in the new column\n",
    "    row['Key_words'] = list(key_words_dict_scores.keys())\n",
    "\n",
    "# dropping the combine column\n",
    "s.drop(columns = ['combine'], inplace = True)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Title</th>\n",
       "      <th>Title&amp;Name</th>\n",
       "      <th>Category</th>\n",
       "      <th>Description</th>\n",
       "      <th>Key_words</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>YUTorah Online - The Basics of Taharos: Why wa...</td>\n",
       "      <td>YUTorah Online - The Basics of Taharos: Why wa...</td>\n",
       "      <td>Machshava:</td>\n",
       "      <td>Length 28 min 45 sec Machshava - Chanukah, Gem...</td>\n",
       "      <td>[yutorah, online, basics, taharos, oil, tamei,...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>YUTorah Online - Kiddush - Opinions 1 &amp; 2 - yo...</td>\n",
       "      <td>YUTorah Online - Kiddush - Opinions 1 &amp; 2 - yo...</td>\n",
       "      <td>Gemara:</td>\n",
       "      <td>Length 12 min 22 sec Series Daily Shiur Halach...</td>\n",
       "      <td>[yutorah, online, kiddush, opinions, 1, 2, nee...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>YUTorah Online - LA SHIUR(VAYISHLACH 5782): HA...</td>\n",
       "      <td>YUTorah Online - LA SHIUR(VAYISHLACH 5782): HA...</td>\n",
       "      <td>Halacha:</td>\n",
       "      <td>Length 38 min 59 sec Parsha - Vayishlach...</td>\n",
       "      <td>[yutorah, online, la, shiur, vayishlach, 5782,...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>YUTorah Online - DRS SHIUR(VAYISHLACH 5782): T...</td>\n",
       "      <td>YUTorah Online - DRS SHIUR(VAYISHLACH 5782): T...</td>\n",
       "      <td>Halacha:</td>\n",
       "      <td>Length 42 min 59 sec...</td>\n",
       "      <td>[yutorah, online, drs, shiur, vayishlach, 5782...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>YUTorah Online - Yaakov: A Weakening Leader or...</td>\n",
       "      <td>YUTorah Online - Yaakov: A Weakening Leader or...</td>\n",
       "      <td>Parsha:</td>\n",
       "      <td>Length 9 min 59 sec Parsha - Vayeishev...</td>\n",
       "      <td>[yutorah, online, yaakov, weakening, leader, r...</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                               Title  \\\n",
       "0  YUTorah Online - The Basics of Taharos: Why wa...   \n",
       "1  YUTorah Online - Kiddush - Opinions 1 & 2 - yo...   \n",
       "2  YUTorah Online - LA SHIUR(VAYISHLACH 5782): HA...   \n",
       "3  YUTorah Online - DRS SHIUR(VAYISHLACH 5782): T...   \n",
       "4  YUTorah Online - Yaakov: A Weakening Leader or...   \n",
       "\n",
       "                                          Title&Name    Category  \\\n",
       "0  YUTorah Online - The Basics of Taharos: Why wa...  Machshava:   \n",
       "1  YUTorah Online - Kiddush - Opinions 1 & 2 - yo...     Gemara:   \n",
       "2  YUTorah Online - LA SHIUR(VAYISHLACH 5782): HA...    Halacha:   \n",
       "3  YUTorah Online - DRS SHIUR(VAYISHLACH 5782): T...    Halacha:   \n",
       "4  YUTorah Online - Yaakov: A Weakening Leader or...     Parsha:   \n",
       "\n",
       "                                         Description  \\\n",
       "0  Length 28 min 45 sec Machshava - Chanukah, Gem...   \n",
       "1  Length 12 min 22 sec Series Daily Shiur Halach...   \n",
       "2        Length 38 min 59 sec Parsha - Vayishlach...   \n",
       "3                            Length 42 min 59 sec...   \n",
       "4          Length 9 min 59 sec Parsha - Vayeishev...   \n",
       "\n",
       "                                           Key_words  \n",
       "0  [yutorah, online, basics, taharos, oil, tamei,...  \n",
       "1  [yutorah, online, kiddush, opinions, 1, 2, nee...  \n",
       "2  [yutorah, online, la, shiur, vayishlach, 5782,...  \n",
       "3  [yutorah, online, drs, shiur, vayishlach, 5782...  \n",
       "4  [yutorah, online, yaakov, weakening, leader, r...  "
      ]
     },
     "execution_count": 10,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "s.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Title&amp;Name</th>\n",
       "      <th>Category</th>\n",
       "      <th>Description</th>\n",
       "      <th>Key_words</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Title</th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>YUTorah Online - The Basics of Taharos: Why was the Oil Tamei? Understanding Why We Needed New Oil on Chanukah (Rabbi Yehuda Turetsky)</th>\n",
       "      <td>YUTorah Online - The Basics of Taharos: Why wa...</td>\n",
       "      <td>Machshava:</td>\n",
       "      <td>Length 28 min 45 sec Machshava - Chanukah, Gem...</td>\n",
       "      <td>[yutorah, online, basics, taharos, oil, tamei,...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>YUTorah Online - Kiddush - Opinions 1 &amp; 2 - you need to eat bread after Kiddush, or wine (Rabbi Ari Wasserman)</th>\n",
       "      <td>YUTorah Online - Kiddush - Opinions 1 &amp; 2 - yo...</td>\n",
       "      <td>Gemara:</td>\n",
       "      <td>Length 12 min 22 sec Series Daily Shiur Halach...</td>\n",
       "      <td>[yutorah, online, kiddush, opinions, 1, 2, nee...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>YUTorah Online - LA SHIUR(VAYISHLACH 5782): HADLALAT NEIROT ON SHABBOS AND ON CHANUKAH (Rabbi Baruch Simon)</th>\n",
       "      <td>YUTorah Online - LA SHIUR(VAYISHLACH 5782): HA...</td>\n",
       "      <td>Halacha:</td>\n",
       "      <td>Length 38 min 59 sec Parsha - Vayishlach...</td>\n",
       "      <td>[yutorah, online, la, shiur, vayishlach, 5782,...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>YUTorah Online - DRS SHIUR(VAYISHLACH 5782): THE SWEETNESS OF LEARNING TORAH AND Q AND A (Rabbi Baruch Simon)</th>\n",
       "      <td>YUTorah Online - DRS SHIUR(VAYISHLACH 5782): T...</td>\n",
       "      <td>Halacha:</td>\n",
       "      <td>Length 42 min 59 sec...</td>\n",
       "      <td>[yutorah, online, drs, shiur, vayishlach, 5782...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>YUTorah Online - Yaakov: A Weakening Leader or a Leader with Restraint (Rabbi Jonathan Ziring)</th>\n",
       "      <td>YUTorah Online - Yaakov: A Weakening Leader or...</td>\n",
       "      <td>Parsha:</td>\n",
       "      <td>Length 9 min 59 sec Parsha - Vayeishev...</td>\n",
       "      <td>[yutorah, online, yaakov, weakening, leader, r...</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                                                                           Title&Name  \\\n",
       "Title                                                                                                   \n",
       "YUTorah Online - The Basics of Taharos: Why was...  YUTorah Online - The Basics of Taharos: Why wa...   \n",
       "YUTorah Online - Kiddush - Opinions 1 & 2 - you...  YUTorah Online - Kiddush - Opinions 1 & 2 - yo...   \n",
       "YUTorah Online - LA SHIUR(VAYISHLACH 5782): HAD...  YUTorah Online - LA SHIUR(VAYISHLACH 5782): HA...   \n",
       "YUTorah Online - DRS SHIUR(VAYISHLACH 5782): TH...  YUTorah Online - DRS SHIUR(VAYISHLACH 5782): T...   \n",
       "YUTorah Online - Yaakov: A Weakening Leader or ...  YUTorah Online - Yaakov: A Weakening Leader or...   \n",
       "\n",
       "                                                      Category  \\\n",
       "Title                                                            \n",
       "YUTorah Online - The Basics of Taharos: Why was...  Machshava:   \n",
       "YUTorah Online - Kiddush - Opinions 1 & 2 - you...     Gemara:   \n",
       "YUTorah Online - LA SHIUR(VAYISHLACH 5782): HAD...    Halacha:   \n",
       "YUTorah Online - DRS SHIUR(VAYISHLACH 5782): TH...    Halacha:   \n",
       "YUTorah Online - Yaakov: A Weakening Leader or ...     Parsha:   \n",
       "\n",
       "                                                                                          Description  \\\n",
       "Title                                                                                                   \n",
       "YUTorah Online - The Basics of Taharos: Why was...  Length 28 min 45 sec Machshava - Chanukah, Gem...   \n",
       "YUTorah Online - Kiddush - Opinions 1 & 2 - you...  Length 12 min 22 sec Series Daily Shiur Halach...   \n",
       "YUTorah Online - LA SHIUR(VAYISHLACH 5782): HAD...        Length 38 min 59 sec Parsha - Vayishlach...   \n",
       "YUTorah Online - DRS SHIUR(VAYISHLACH 5782): TH...                            Length 42 min 59 sec...   \n",
       "YUTorah Online - Yaakov: A Weakening Leader or ...          Length 9 min 59 sec Parsha - Vayeishev...   \n",
       "\n",
       "                                                                                            Key_words  \n",
       "Title                                                                                                  \n",
       "YUTorah Online - The Basics of Taharos: Why was...  [yutorah, online, basics, taharos, oil, tamei,...  \n",
       "YUTorah Online - Kiddush - Opinions 1 & 2 - you...  [yutorah, online, kiddush, opinions, 1, 2, nee...  \n",
       "YUTorah Online - LA SHIUR(VAYISHLACH 5782): HAD...  [yutorah, online, la, shiur, vayishlach, 5782,...  \n",
       "YUTorah Online - DRS SHIUR(VAYISHLACH 5782): TH...  [yutorah, online, drs, shiur, vayishlach, 5782...  \n",
       "YUTorah Online - Yaakov: A Weakening Leader or ...  [yutorah, online, yaakov, weakening, leader, r...  "
      ]
     },
     "execution_count": 11,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#set Title as index\n",
    "s.set_index('Title', inplace = True)\n",
    "s.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {},
   "outputs": [],
   "source": [
    "#creating a new column for the bag of words\n",
    "s['bag'] = ''\n",
    "columns = s.columns\n",
    "#joining the key words into one string per row\n",
    "for index, row in s.iterrows():\n",
    "    words = ''\n",
    "    for col in columns:\n",
    "        if col != 'Cateogory':\n",
    "            words = words + ' '.join(row[col])+ ' '\n",
    "        else:\n",
    "            words = words + row[col]+ ' '\n",
    "    row['bag'] = words\n",
    "\n",
    "#dropping columns other than the bag of words column    \n",
    "s.drop(columns = [col for col in s.columns if col!= 'bag'], inplace = True)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>bag</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Title</th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>YUTorah Online - The Basics of Taharos: Why was the Oil Tamei? Understanding Why We Needed New Oil on Chanukah (Rabbi Yehuda Turetsky)</th>\n",
       "      <td>Y U T o r a h   O n l i n e   -   T h e   B a ...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>YUTorah Online - Kiddush - Opinions 1 &amp; 2 - you need to eat bread after Kiddush, or wine (Rabbi Ari Wasserman)</th>\n",
       "      <td>Y U T o r a h   O n l i n e   -   K i d d u s ...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>YUTorah Online - LA SHIUR(VAYISHLACH 5782): HADLALAT NEIROT ON SHABBOS AND ON CHANUKAH (Rabbi Baruch Simon)</th>\n",
       "      <td>Y U T o r a h   O n l i n e   -   L A   S H I ...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>YUTorah Online - DRS SHIUR(VAYISHLACH 5782): THE SWEETNESS OF LEARNING TORAH AND Q AND A (Rabbi Baruch Simon)</th>\n",
       "      <td>Y U T o r a h   O n l i n e   -   D R S   S H ...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>YUTorah Online - Yaakov: A Weakening Leader or a Leader with Restraint (Rabbi Jonathan Ziring)</th>\n",
       "      <td>Y U T o r a h   O n l i n e   -   Y a a k o v ...</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                                                                                  bag\n",
       "Title                                                                                                \n",
       "YUTorah Online - The Basics of Taharos: Why was...  Y U T o r a h   O n l i n e   -   T h e   B a ...\n",
       "YUTorah Online - Kiddush - Opinions 1 & 2 - you...  Y U T o r a h   O n l i n e   -   K i d d u s ...\n",
       "YUTorah Online - LA SHIUR(VAYISHLACH 5782): HAD...  Y U T o r a h   O n l i n e   -   L A   S H I ...\n",
       "YUTorah Online - DRS SHIUR(VAYISHLACH 5782): TH...  Y U T o r a h   O n l i n e   -   D R S   S H ...\n",
       "YUTorah Online - Yaakov: A Weakening Leader or ...  Y U T o r a h   O n l i n e   -   Y a a k o v ..."
      ]
     },
     "execution_count": 13,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "s.head()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Applying the recommender"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {},
   "outputs": [],
   "source": [
    "# creating the the count matrix for the bag of words\n",
    "count = CountVectorizer()\n",
    "count_matrix = count.fit_transform(s['bag'])\n",
    "\n",
    "# creating a series for the lecture titles so they are associated with an ordered numerical list\n",
    "# which will be used later to match the indexes\n",
    "indices = pd.Series(s.index)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([[1.        , 0.36363636, 0.38138504, ..., 0.44020439, 0.15569979,\n",
       "        0.17094086],\n",
       "       [0.36363636, 1.        , 0.38138504, ..., 0.34238119, 0.19462474,\n",
       "        0.22792115],\n",
       "       [0.38138504, 0.38138504, 1.        , ..., 0.46169026, 0.16329932,\n",
       "        0.23904572],\n",
       "       ...,\n",
       "       [0.44020439, 0.34238119, 0.46169026, ..., 1.        , 0.12565617,\n",
       "        0.24525574],\n",
       "       [0.15569979, 0.19462474, 0.16329932, ..., 0.12565617, 1.        ,\n",
       "        0.14638501],\n",
       "       [0.17094086, 0.22792115, 0.23904572, ..., 0.24525574, 0.14638501,\n",
       "        1.        ]])"
      ]
     },
     "execution_count": 15,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#getting the cosine similarity \n",
    "cosine_sim = cosine_similarity(count_matrix, count_matrix)\n",
    "cosine_sim"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {},
   "outputs": [],
   "source": [
    "#create function to act as the recommender tool\n",
    "def recommendations(title, cosine_sim = cosine_sim):\n",
    "    \n",
    "    recommended_titles = []\n",
    "    \n",
    "    # getting the index of the lecture that matches the title\n",
    "    idx = indices[indices == title].index[0]\n",
    "\n",
    "    # creating a Series with the similarity scores in descending order\n",
    "    score_series = pd.Series(cosine_sim[idx]).sort_values(ascending = False)\n",
    "\n",
    "    # getting the indexes of the 5 most similar lectures\n",
    "    top_5_indexes = list(score_series.iloc[1:6].index)\n",
    "    \n",
    "    # populating the list with the titles of the best 10 matching movies\n",
    "    for i in top_5_indexes:\n",
    "        recommended_titles.append(list(s.index)[i])\n",
    "        \n",
    "    return recommended_titles"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Giving our content-based recommender a test run!"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "['YUTorah Online - Yerushalmi Berachot 28 (Rabbi Jonathan Ziring)',\n",
       " 'YUTorah Online -  Pesachim 52: Bal Yeraeh and Bal Yimatzei (2) - Turning to Ownership Issues (Rabbi Jonathan Ziring)',\n",
       " 'YUTorah Online - Parshas Vayishlach : Holding On (Rabbi Chaim Yagoda)',\n",
       " 'YUTorah Online - Parshas Vayishlach (Rabbi Hershel Schachter)',\n",
       " 'YUTorah Online - Parshas Vayeishev 3 - Meaningful (and Quick) Divrei Torah (Rabbi Ari Wasserman)']"
      ]
     },
     "execution_count": 17,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#return top 5 recommendations for the lecture entered here\n",
    "recommendations('YUTorah Online - Yaakov: A Weakening Leader or a Leader with Restraint (Rabbi Jonathan Ziring)')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Part C: Retrieving the lectures that users \"listened\" to (ie clicked on, so that we use a binary matrix)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "The first task was gaining access to the Google Analytics of YU Torah Online. I then chose a sample date - December 7 - and chose four users from that date. I exported three lectures per user. These exports were in JSON file formatting."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### User A"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {},
   "outputs": [],
   "source": [
    "#import library\n",
    "import json\n",
    "\n",
    "# read in json document 1, which represented user A's lectures\n",
    "with open('/Users/marleegoodman/Downloads/A.json') as user_file:\n",
    "  file_contents = user_file.read()\n",
    "  \n",
    "jsa = json.loads(file_contents)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "YUTorah Online - Parshas Vayishlach - Yaakov, Yoseif, and the significance of Chazara (Rabbi Elchanan Adler)\n",
      "YUTorah Online - Lighting Candles Latkes and Donuts - Halachic Issues That Arise at Chanukah (Rabbi Zvi Sobolofsky)\n",
      "YUTorah Online - Appreciating The Human Touch in Psak Halacha (Rabbi Shay Schachter)\n"
     ]
    }
   ],
   "source": [
    "# retrieve user A's lecture titles from the json\n",
    "\n",
    "#one of user A's lectures\n",
    "A1=jsa['dates'][0]['sessions'][0]['activities'][2]['details'][0]['Page title']\n",
    "#convert to string\n",
    "A1=(' '.join(A1))\n",
    "print(A1)\n",
    "\n",
    "#a second lecture that user A listened to:\n",
    "A2=jsa['dates'][0]['sessions'][1]['activities'][1]['details'][0]['Page title']\n",
    "#convert to string\n",
    "A2=(' '.join(A2))\n",
    "print(A2)\n",
    "\n",
    "# a third lecture from user A\n",
    "A3=jsa['dates'][0]['sessions'][13]['activities'][0]['details'][0]['Page title']\n",
    "#convert to string\n",
    "A3=(' '.join(A3))\n",
    "print(A3)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### User B"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "YUTorah Online - Chanukah 5783: Zman Hadlakat Ner Chnukah (Rabbi Baruch Simon)\n",
      "YUTorah Online - Can the Bracha on the Neiros be Made After one Lights (Rabbi Baruch Simon)\n",
      "YUTorah Online - LA SHIUR( Parshat Vayishlach): Kavod Shabbos (Rabbi Baruch Simon)\n"
     ]
    }
   ],
   "source": [
    "#repeat method that was used for User A\n",
    "\n",
    "with open('/Users/marleegoodman/Downloads/B.json') as user_file:\n",
    "  file_contentsB = user_file.read()\n",
    "  \n",
    "jsb = json.loads(file_contentsB)\n",
    "\n",
    "B1=jsb['dates'][0]['sessions'][0]['activities'][0]['details'][0]['Page title']\n",
    "B1=(' '.join(B1))\n",
    "print(B1)\n",
    "\n",
    "B2=jsb['dates'][0]['sessions'][1]['activities'][1]['details'][0]['Page title']\n",
    "B2=(' '.join(B2))\n",
    "print(B2)\n",
    "\n",
    "B3=jsb['dates'][0]['sessions'][3]['activities'][0]['details'][0]['Page title']\n",
    "B3=(' '.join(B3))\n",
    "print(B3)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### User C"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "YUTorah Online - (8) The Rav's Understanding of what Yeshiva University Should Be (Rabbi Dr. Aaron Rakeffet-Rothkoff)\n",
      "YUTorah Online - (7) Seminary or Yeshiva - Yeshiva University in 1941 (Rabbi Dr. Aaron Rakeffet-Rothkoff)\n",
      "YUTorah Online - (6) Rabbi Aaron Lichtenstein Meets the Rebbe (Rabbi Dr. Aaron Rakeffet-Rothkoff)\n"
     ]
    }
   ],
   "source": [
    "with open('/Users/marleegoodman/Downloads/C.json') as user_file:\n",
    "  file_contentsC = user_file.read()\n",
    "  \n",
    "jsc = json.loads(file_contentsC)\n",
    "\n",
    "C1=jsc['dates'][0]['sessions'][0]['activities'][0]['details'][0]['Page title']\n",
    "C1=(' '.join(C1))\n",
    "print(C1)\n",
    "\n",
    "C2=jsc['dates'][0]['sessions'][1]['activities'][0]['details'][0]['Page title']\n",
    "C2=(' '.join(C2))\n",
    "print(C2)\n",
    "\n",
    "C3=jsc['dates'][0]['sessions'][7]['activities'][0]['details'][0]['Page title']\n",
    "C3=(' '.join(C3))\n",
    "print(C3)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "YUTorah Online - R. R. Taragin Neir Ish UBeso Chanukah 11-18-18 (Rabbi Reuven Taragin)\n",
      "YUTorah Online - KJ's Dr. William Major Memorial Advanced Shiur in Talmud with Rabbi Dr. Jeremy Wieder (Rabbi Jeremy Wieder)\n",
      "YUTorah Online - Shabbos Shiur 24- Shitas R' Yehuda 2 (Rabbi Assaf Bednarsh)\n"
     ]
    }
   ],
   "source": [
    "import json\n",
    "\n",
    "with open('/Users/marleegoodman/Downloads/D.json') as user_file:\n",
    "  file_contentsD = user_file.read()\n",
    "  \n",
    "jsd = json.loads(file_contentsD)\n",
    "\n",
    "D1=jsd['dates'][0]['sessions'][0]['activities'][0]['details'][0]['Page title']\n",
    "D1=(' '.join(D1))\n",
    "print(D1)\n",
    "\n",
    "D2=jsd['dates'][0]['sessions'][1]['activities'][0]['details'][0]['Page title']\n",
    "D2=(' '.join(D2))\n",
    "print(D2)\n",
    "\n",
    "D3=jsd['dates'][0]['sessions'][2]['activities'][0]['details'][0]['Page title']\n",
    "D3=(' '.join(D3))\n",
    "print(D3)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Part D: Collaborative filtering recommender"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "(Code largely followed from Jesko Rehberg's https://towardsdatascience.com/recommender-systems-item-customer-collaborative-filtering-ff0c8f41ae8a)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Preparing the data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>user</th>\n",
       "      <th>title</th>\n",
       "      <th>rating</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>A</td>\n",
       "      <td>[YUTorah Online - Parshas Vayishlach - Yaakov,...</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>B</td>\n",
       "      <td>[YUTorah Online - Chanukah 5783: Zman Hadlakat...</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>C</td>\n",
       "      <td>[YUTorah Online - (8) The Rav's Understanding ...</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>D</td>\n",
       "      <td>[YUTorah Online - R. R. Taragin Neir Ish UBeso...</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  user                                              title  rating\n",
       "0    A  [YUTorah Online - Parshas Vayishlach - Yaakov,...       1\n",
       "1    B  [YUTorah Online - Chanukah 5783: Zman Hadlakat...       1\n",
       "2    C  [YUTorah Online - (8) The Rav's Understanding ...       1\n",
       "3    D  [YUTorah Online - R. R. Taragin Neir Ish UBeso...       1"
      ]
     },
     "execution_count": 23,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#combine data into dataframe\n",
    "d = {'user': ['A','B','C','D'], 'title': [[A1,A2,A3],[B1,B2,B3],[C1,C2,C3],[D1,D2,D3]],'rating':[1,1,1,1]}\n",
    "df = pd.DataFrame(data=d)\n",
    "df\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>user</th>\n",
       "      <th>title</th>\n",
       "      <th>rating</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>A</td>\n",
       "      <td>YUTorah Online - Parshas Vayishlach - Yaakov, ...</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>A</td>\n",
       "      <td>YUTorah Online - Lighting Candles Latkes and D...</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>A</td>\n",
       "      <td>YUTorah Online - Appreciating The Human Touch ...</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>B</td>\n",
       "      <td>YUTorah Online - Chanukah 5783: Zman Hadlakat ...</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>B</td>\n",
       "      <td>YUTorah Online - Can the Bracha on the Neiros ...</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>B</td>\n",
       "      <td>YUTorah Online - LA SHIUR( Parshat Vayishlach)...</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>C</td>\n",
       "      <td>YUTorah Online - (8) The Rav's Understanding o...</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>C</td>\n",
       "      <td>YUTorah Online - (7) Seminary or Yeshiva - Yes...</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>C</td>\n",
       "      <td>YUTorah Online - (6) Rabbi Aaron Lichtenstein ...</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>D</td>\n",
       "      <td>YUTorah Online - R. R. Taragin Neir Ish UBeso ...</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>D</td>\n",
       "      <td>YUTorah Online - KJ's Dr. William Major Memori...</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>D</td>\n",
       "      <td>YUTorah Online - Shabbos Shiur 24- Shitas R' Y...</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  user                                              title  rating\n",
       "0    A  YUTorah Online - Parshas Vayishlach - Yaakov, ...       1\n",
       "0    A  YUTorah Online - Lighting Candles Latkes and D...       1\n",
       "0    A  YUTorah Online - Appreciating The Human Touch ...       1\n",
       "1    B  YUTorah Online - Chanukah 5783: Zman Hadlakat ...       1\n",
       "1    B  YUTorah Online - Can the Bracha on the Neiros ...       1\n",
       "1    B  YUTorah Online - LA SHIUR( Parshat Vayishlach)...       1\n",
       "2    C  YUTorah Online - (8) The Rav's Understanding o...       1\n",
       "2    C  YUTorah Online - (7) Seminary or Yeshiva - Yes...       1\n",
       "2    C  YUTorah Online - (6) Rabbi Aaron Lichtenstein ...       1\n",
       "3    D  YUTorah Online - R. R. Taragin Neir Ish UBeso ...       1\n",
       "3    D  YUTorah Online - KJ's Dr. William Major Memori...       1\n",
       "3    D  YUTorah Online - Shabbos Shiur 24- Shitas R' Y...       1"
      ]
     },
     "execution_count": 24,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#expand df because we have 3 lectures per user\n",
    "dataframe=df.explode('title')\n",
    "dataframe"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "metadata": {},
   "outputs": [],
   "source": [
    "#set index to 'user'\n",
    "df1=dataframe.set_index('user')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th>title</th>\n",
       "      <th>YUTorah Online - (6) Rabbi Aaron Lichtenstein Meets the Rebbe (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <th>YUTorah Online - (7) Seminary or Yeshiva - Yeshiva University in 1941 (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <th>YUTorah Online - (8) The Rav's Understanding of what Yeshiva University Should Be (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <th>YUTorah Online - Appreciating The Human Touch in Psak Halacha (Rabbi Shay Schachter)</th>\n",
       "      <th>YUTorah Online - Can the Bracha on the Neiros be Made After one Lights (Rabbi Baruch Simon)</th>\n",
       "      <th>YUTorah Online - Chanukah 5783: Zman Hadlakat Ner Chnukah (Rabbi Baruch Simon)</th>\n",
       "      <th>YUTorah Online - KJ's Dr. William Major Memorial Advanced Shiur in Talmud with Rabbi Dr. Jeremy Wieder (Rabbi Jeremy Wieder)</th>\n",
       "      <th>YUTorah Online - LA SHIUR( Parshat Vayishlach): Kavod Shabbos (Rabbi Baruch Simon)</th>\n",
       "      <th>YUTorah Online - Lighting Candles Latkes and Donuts - Halachic Issues That Arise at Chanukah (Rabbi Zvi Sobolofsky)</th>\n",
       "      <th>YUTorah Online - Parshas Vayishlach - Yaakov, Yoseif, and the significance of Chazara (Rabbi Elchanan Adler)</th>\n",
       "      <th>YUTorah Online - R. R. Taragin Neir Ish UBeso Chanukah 11-18-18 (Rabbi Reuven Taragin)</th>\n",
       "      <th>YUTorah Online - Shabbos Shiur 24- Shitas R' Yehuda 2 (Rabbi Assaf Bednarsh)</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>user</th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>A</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>1.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>B</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>1.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>C</th>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>D</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>1.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "title  YUTorah Online - (6) Rabbi Aaron Lichtenstein Meets the Rebbe (Rabbi Dr. Aaron Rakeffet-Rothkoff)  \\\n",
       "user                                                                                                       \n",
       "A                                                    NaN                                                   \n",
       "B                                                    NaN                                                   \n",
       "C                                                    1.0                                                   \n",
       "D                                                    NaN                                                   \n",
       "\n",
       "title  YUTorah Online - (7) Seminary or Yeshiva - Yeshiva University in 1941 (Rabbi Dr. Aaron Rakeffet-Rothkoff)  \\\n",
       "user                                                                                                               \n",
       "A                                                    NaN                                                           \n",
       "B                                                    NaN                                                           \n",
       "C                                                    1.0                                                           \n",
       "D                                                    NaN                                                           \n",
       "\n",
       "title  YUTorah Online - (8) The Rav's Understanding of what Yeshiva University Should Be (Rabbi Dr. Aaron Rakeffet-Rothkoff)  \\\n",
       "user                                                                                                                           \n",
       "A                                                    NaN                                                                       \n",
       "B                                                    NaN                                                                       \n",
       "C                                                    1.0                                                                       \n",
       "D                                                    NaN                                                                       \n",
       "\n",
       "title  YUTorah Online - Appreciating The Human Touch in Psak Halacha (Rabbi Shay Schachter)  \\\n",
       "user                                                                                          \n",
       "A                                                    1.0                                      \n",
       "B                                                    NaN                                      \n",
       "C                                                    NaN                                      \n",
       "D                                                    NaN                                      \n",
       "\n",
       "title  YUTorah Online - Can the Bracha on the Neiros be Made After one Lights (Rabbi Baruch Simon)  \\\n",
       "user                                                                                                 \n",
       "A                                                    NaN                                             \n",
       "B                                                    1.0                                             \n",
       "C                                                    NaN                                             \n",
       "D                                                    NaN                                             \n",
       "\n",
       "title  YUTorah Online - Chanukah 5783: Zman Hadlakat Ner Chnukah (Rabbi Baruch Simon)  \\\n",
       "user                                                                                    \n",
       "A                                                    NaN                                \n",
       "B                                                    1.0                                \n",
       "C                                                    NaN                                \n",
       "D                                                    NaN                                \n",
       "\n",
       "title  YUTorah Online - KJ's Dr. William Major Memorial Advanced Shiur in Talmud with Rabbi Dr. Jeremy Wieder (Rabbi Jeremy Wieder)  \\\n",
       "user                                                                                                                                  \n",
       "A                                                    NaN                                                                              \n",
       "B                                                    NaN                                                                              \n",
       "C                                                    NaN                                                                              \n",
       "D                                                    1.0                                                                              \n",
       "\n",
       "title  YUTorah Online - LA SHIUR( Parshat Vayishlach): Kavod Shabbos (Rabbi Baruch Simon)  \\\n",
       "user                                                                                        \n",
       "A                                                    NaN                                    \n",
       "B                                                    1.0                                    \n",
       "C                                                    NaN                                    \n",
       "D                                                    NaN                                    \n",
       "\n",
       "title  YUTorah Online - Lighting Candles Latkes and Donuts - Halachic Issues That Arise at Chanukah (Rabbi Zvi Sobolofsky)  \\\n",
       "user                                                                                                                         \n",
       "A                                                    1.0                                                                     \n",
       "B                                                    NaN                                                                     \n",
       "C                                                    NaN                                                                     \n",
       "D                                                    NaN                                                                     \n",
       "\n",
       "title  YUTorah Online - Parshas Vayishlach - Yaakov, Yoseif, and the significance of Chazara (Rabbi Elchanan Adler)  \\\n",
       "user                                                                                                                  \n",
       "A                                                    1.0                                                              \n",
       "B                                                    NaN                                                              \n",
       "C                                                    NaN                                                              \n",
       "D                                                    NaN                                                              \n",
       "\n",
       "title  YUTorah Online - R. R. Taragin Neir Ish UBeso Chanukah 11-18-18 (Rabbi Reuven Taragin)  \\\n",
       "user                                                                                            \n",
       "A                                                    NaN                                        \n",
       "B                                                    NaN                                        \n",
       "C                                                    NaN                                        \n",
       "D                                                    1.0                                        \n",
       "\n",
       "title  YUTorah Online - Shabbos Shiur 24- Shitas R' Yehuda 2 (Rabbi Assaf Bednarsh)  \n",
       "user                                                                                 \n",
       "A                                                    NaN                             \n",
       "B                                                    NaN                             \n",
       "C                                                    NaN                             \n",
       "D                                                    1.0                             "
      ]
     },
     "execution_count": 26,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#make titles as the columns\n",
    "DfMatrix=df1.pivot_table(values='rating', index=df1.index, columns='title', aggfunc='first')\n",
    "DfMatrix.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 27,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th>title</th>\n",
       "      <th>YUTorah Online - (6) Rabbi Aaron Lichtenstein Meets the Rebbe (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <th>YUTorah Online - (7) Seminary or Yeshiva - Yeshiva University in 1941 (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <th>YUTorah Online - (8) The Rav's Understanding of what Yeshiva University Should Be (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <th>YUTorah Online - Appreciating The Human Touch in Psak Halacha (Rabbi Shay Schachter)</th>\n",
       "      <th>YUTorah Online - Can the Bracha on the Neiros be Made After one Lights (Rabbi Baruch Simon)</th>\n",
       "      <th>YUTorah Online - Chanukah 5783: Zman Hadlakat Ner Chnukah (Rabbi Baruch Simon)</th>\n",
       "      <th>YUTorah Online - KJ's Dr. William Major Memorial Advanced Shiur in Talmud with Rabbi Dr. Jeremy Wieder (Rabbi Jeremy Wieder)</th>\n",
       "      <th>YUTorah Online - LA SHIUR( Parshat Vayishlach): Kavod Shabbos (Rabbi Baruch Simon)</th>\n",
       "      <th>YUTorah Online - Lighting Candles Latkes and Donuts - Halachic Issues That Arise at Chanukah (Rabbi Zvi Sobolofsky)</th>\n",
       "      <th>YUTorah Online - Parshas Vayishlach - Yaakov, Yoseif, and the significance of Chazara (Rabbi Elchanan Adler)</th>\n",
       "      <th>YUTorah Online - R. R. Taragin Neir Ish UBeso Chanukah 11-18-18 (Rabbi Reuven Taragin)</th>\n",
       "      <th>YUTorah Online - Shabbos Shiur 24- Shitas R' Yehuda 2 (Rabbi Assaf Bednarsh)</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>user</th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>A</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>B</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>C</th>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>D</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "title  YUTorah Online - (6) Rabbi Aaron Lichtenstein Meets the Rebbe (Rabbi Dr. Aaron Rakeffet-Rothkoff)  \\\n",
       "user                                                                                                       \n",
       "A                                                    0.0                                                   \n",
       "B                                                    0.0                                                   \n",
       "C                                                    1.0                                                   \n",
       "D                                                    0.0                                                   \n",
       "\n",
       "title  YUTorah Online - (7) Seminary or Yeshiva - Yeshiva University in 1941 (Rabbi Dr. Aaron Rakeffet-Rothkoff)  \\\n",
       "user                                                                                                               \n",
       "A                                                    0.0                                                           \n",
       "B                                                    0.0                                                           \n",
       "C                                                    1.0                                                           \n",
       "D                                                    0.0                                                           \n",
       "\n",
       "title  YUTorah Online - (8) The Rav's Understanding of what Yeshiva University Should Be (Rabbi Dr. Aaron Rakeffet-Rothkoff)  \\\n",
       "user                                                                                                                           \n",
       "A                                                    0.0                                                                       \n",
       "B                                                    0.0                                                                       \n",
       "C                                                    1.0                                                                       \n",
       "D                                                    0.0                                                                       \n",
       "\n",
       "title  YUTorah Online - Appreciating The Human Touch in Psak Halacha (Rabbi Shay Schachter)  \\\n",
       "user                                                                                          \n",
       "A                                                    1.0                                      \n",
       "B                                                    0.0                                      \n",
       "C                                                    0.0                                      \n",
       "D                                                    0.0                                      \n",
       "\n",
       "title  YUTorah Online - Can the Bracha on the Neiros be Made After one Lights (Rabbi Baruch Simon)  \\\n",
       "user                                                                                                 \n",
       "A                                                    0.0                                             \n",
       "B                                                    1.0                                             \n",
       "C                                                    0.0                                             \n",
       "D                                                    0.0                                             \n",
       "\n",
       "title  YUTorah Online - Chanukah 5783: Zman Hadlakat Ner Chnukah (Rabbi Baruch Simon)  \\\n",
       "user                                                                                    \n",
       "A                                                    0.0                                \n",
       "B                                                    1.0                                \n",
       "C                                                    0.0                                \n",
       "D                                                    0.0                                \n",
       "\n",
       "title  YUTorah Online - KJ's Dr. William Major Memorial Advanced Shiur in Talmud with Rabbi Dr. Jeremy Wieder (Rabbi Jeremy Wieder)  \\\n",
       "user                                                                                                                                  \n",
       "A                                                    0.0                                                                              \n",
       "B                                                    0.0                                                                              \n",
       "C                                                    0.0                                                                              \n",
       "D                                                    1.0                                                                              \n",
       "\n",
       "title  YUTorah Online - LA SHIUR( Parshat Vayishlach): Kavod Shabbos (Rabbi Baruch Simon)  \\\n",
       "user                                                                                        \n",
       "A                                                    0.0                                    \n",
       "B                                                    1.0                                    \n",
       "C                                                    0.0                                    \n",
       "D                                                    0.0                                    \n",
       "\n",
       "title  YUTorah Online - Lighting Candles Latkes and Donuts - Halachic Issues That Arise at Chanukah (Rabbi Zvi Sobolofsky)  \\\n",
       "user                                                                                                                         \n",
       "A                                                    1.0                                                                     \n",
       "B                                                    0.0                                                                     \n",
       "C                                                    0.0                                                                     \n",
       "D                                                    0.0                                                                     \n",
       "\n",
       "title  YUTorah Online - Parshas Vayishlach - Yaakov, Yoseif, and the significance of Chazara (Rabbi Elchanan Adler)  \\\n",
       "user                                                                                                                  \n",
       "A                                                    1.0                                                              \n",
       "B                                                    0.0                                                              \n",
       "C                                                    0.0                                                              \n",
       "D                                                    0.0                                                              \n",
       "\n",
       "title  YUTorah Online - R. R. Taragin Neir Ish UBeso Chanukah 11-18-18 (Rabbi Reuven Taragin)  \\\n",
       "user                                                                                            \n",
       "A                                                    0.0                                        \n",
       "B                                                    0.0                                        \n",
       "C                                                    0.0                                        \n",
       "D                                                    1.0                                        \n",
       "\n",
       "title  YUTorah Online - Shabbos Shiur 24- Shitas R' Yehuda 2 (Rabbi Assaf Bednarsh)  \n",
       "user                                                                                 \n",
       "A                                                    0.0                             \n",
       "B                                                    0.0                             \n",
       "C                                                    0.0                             \n",
       "D                                                    1.0                             "
      ]
     },
     "execution_count": 27,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#make NaNs into 0s\n",
    "DfMatrix=DfMatrix.fillna(0)\n",
    "DfMatrix.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 28,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>user</th>\n",
       "      <th>YUTorah Online - (6) Rabbi Aaron Lichtenstein Meets the Rebbe (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <th>YUTorah Online - (7) Seminary or Yeshiva - Yeshiva University in 1941 (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <th>YUTorah Online - (8) The Rav's Understanding of what Yeshiva University Should Be (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <th>YUTorah Online - Appreciating The Human Touch in Psak Halacha (Rabbi Shay Schachter)</th>\n",
       "      <th>YUTorah Online - Can the Bracha on the Neiros be Made After one Lights (Rabbi Baruch Simon)</th>\n",
       "      <th>YUTorah Online - Chanukah 5783: Zman Hadlakat Ner Chnukah (Rabbi Baruch Simon)</th>\n",
       "      <th>YUTorah Online - KJ's Dr. William Major Memorial Advanced Shiur in Talmud with Rabbi Dr. Jeremy Wieder (Rabbi Jeremy Wieder)</th>\n",
       "      <th>YUTorah Online - LA SHIUR( Parshat Vayishlach): Kavod Shabbos (Rabbi Baruch Simon)</th>\n",
       "      <th>YUTorah Online - Lighting Candles Latkes and Donuts - Halachic Issues That Arise at Chanukah (Rabbi Zvi Sobolofsky)</th>\n",
       "      <th>YUTorah Online - Parshas Vayishlach - Yaakov, Yoseif, and the significance of Chazara (Rabbi Elchanan Adler)</th>\n",
       "      <th>YUTorah Online - R. R. Taragin Neir Ish UBeso Chanukah 11-18-18 (Rabbi Reuven Taragin)</th>\n",
       "      <th>YUTorah Online - Shabbos Shiur 24- Shitas R' Yehuda 2 (Rabbi Assaf Bednarsh)</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>A</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>B</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>C</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>D</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  user  \\\n",
       "0    A   \n",
       "1    B   \n",
       "2    C   \n",
       "3    D   \n",
       "\n",
       "   YUTorah Online - (6) Rabbi Aaron Lichtenstein Meets the Rebbe (Rabbi Dr. Aaron Rakeffet-Rothkoff)  \\\n",
       "0                                                0.0                                                   \n",
       "1                                                0.0                                                   \n",
       "2                                                1.0                                                   \n",
       "3                                                0.0                                                   \n",
       "\n",
       "   YUTorah Online - (7) Seminary or Yeshiva - Yeshiva University in 1941 (Rabbi Dr. Aaron Rakeffet-Rothkoff)  \\\n",
       "0                                                0.0                                                           \n",
       "1                                                0.0                                                           \n",
       "2                                                1.0                                                           \n",
       "3                                                0.0                                                           \n",
       "\n",
       "   YUTorah Online - (8) The Rav's Understanding of what Yeshiva University Should Be (Rabbi Dr. Aaron Rakeffet-Rothkoff)  \\\n",
       "0                                                0.0                                                                       \n",
       "1                                                0.0                                                                       \n",
       "2                                                1.0                                                                       \n",
       "3                                                0.0                                                                       \n",
       "\n",
       "   YUTorah Online - Appreciating The Human Touch in Psak Halacha (Rabbi Shay Schachter)  \\\n",
       "0                                                1.0                                      \n",
       "1                                                0.0                                      \n",
       "2                                                0.0                                      \n",
       "3                                                0.0                                      \n",
       "\n",
       "   YUTorah Online - Can the Bracha on the Neiros be Made After one Lights (Rabbi Baruch Simon)  \\\n",
       "0                                                0.0                                             \n",
       "1                                                1.0                                             \n",
       "2                                                0.0                                             \n",
       "3                                                0.0                                             \n",
       "\n",
       "   YUTorah Online - Chanukah 5783: Zman Hadlakat Ner Chnukah (Rabbi Baruch Simon)  \\\n",
       "0                                                0.0                                \n",
       "1                                                1.0                                \n",
       "2                                                0.0                                \n",
       "3                                                0.0                                \n",
       "\n",
       "   YUTorah Online - KJ's Dr. William Major Memorial Advanced Shiur in Talmud with Rabbi Dr. Jeremy Wieder (Rabbi Jeremy Wieder)  \\\n",
       "0                                                0.0                                                                              \n",
       "1                                                0.0                                                                              \n",
       "2                                                0.0                                                                              \n",
       "3                                                1.0                                                                              \n",
       "\n",
       "   YUTorah Online - LA SHIUR( Parshat Vayishlach): Kavod Shabbos (Rabbi Baruch Simon)  \\\n",
       "0                                                0.0                                    \n",
       "1                                                1.0                                    \n",
       "2                                                0.0                                    \n",
       "3                                                0.0                                    \n",
       "\n",
       "   YUTorah Online - Lighting Candles Latkes and Donuts - Halachic Issues That Arise at Chanukah (Rabbi Zvi Sobolofsky)  \\\n",
       "0                                                1.0                                                                     \n",
       "1                                                0.0                                                                     \n",
       "2                                                0.0                                                                     \n",
       "3                                                0.0                                                                     \n",
       "\n",
       "   YUTorah Online - Parshas Vayishlach - Yaakov, Yoseif, and the significance of Chazara (Rabbi Elchanan Adler)  \\\n",
       "0                                                1.0                                                              \n",
       "1                                                0.0                                                              \n",
       "2                                                0.0                                                              \n",
       "3                                                0.0                                                              \n",
       "\n",
       "   YUTorah Online - R. R. Taragin Neir Ish UBeso Chanukah 11-18-18 (Rabbi Reuven Taragin)  \\\n",
       "0                                                0.0                                        \n",
       "1                                                0.0                                        \n",
       "2                                                0.0                                        \n",
       "3                                                1.0                                        \n",
       "\n",
       "   YUTorah Online - Shabbos Shiur 24- Shitas R' Yehuda 2 (Rabbi Assaf Bednarsh)  \n",
       "0                                                0.0                             \n",
       "1                                                0.0                             \n",
       "2                                                0.0                             \n",
       "3                                                1.0                             "
      ]
     },
     "execution_count": 28,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#Now make each row represent one user`s lecture: 1 means the user has watched, NaN means the user didn't watch\n",
    "DfResetted = DfMatrix.reset_index().rename_axis(None, axis=1) \n",
    "DfResetted.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 29,
   "metadata": {},
   "outputs": [],
   "source": [
    "dfm=DfResetted"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 30,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "<ipython-input-30-119286638139>:2: FutureWarning: In a future version of pandas all arguments of DataFrame.drop except for the argument 'labels' will be keyword-only.\n",
      "  DfLectureItem = dfm.drop('user', 1)\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>YUTorah Online - (6) Rabbi Aaron Lichtenstein Meets the Rebbe (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <th>YUTorah Online - (7) Seminary or Yeshiva - Yeshiva University in 1941 (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <th>YUTorah Online - (8) The Rav's Understanding of what Yeshiva University Should Be (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <th>YUTorah Online - Appreciating The Human Touch in Psak Halacha (Rabbi Shay Schachter)</th>\n",
       "      <th>YUTorah Online - Can the Bracha on the Neiros be Made After one Lights (Rabbi Baruch Simon)</th>\n",
       "      <th>YUTorah Online - Chanukah 5783: Zman Hadlakat Ner Chnukah (Rabbi Baruch Simon)</th>\n",
       "      <th>YUTorah Online - KJ's Dr. William Major Memorial Advanced Shiur in Talmud with Rabbi Dr. Jeremy Wieder (Rabbi Jeremy Wieder)</th>\n",
       "      <th>YUTorah Online - LA SHIUR( Parshat Vayishlach): Kavod Shabbos (Rabbi Baruch Simon)</th>\n",
       "      <th>YUTorah Online - Lighting Candles Latkes and Donuts - Halachic Issues That Arise at Chanukah (Rabbi Zvi Sobolofsky)</th>\n",
       "      <th>YUTorah Online - Parshas Vayishlach - Yaakov, Yoseif, and the significance of Chazara (Rabbi Elchanan Adler)</th>\n",
       "      <th>YUTorah Online - R. R. Taragin Neir Ish UBeso Chanukah 11-18-18 (Rabbi Reuven Taragin)</th>\n",
       "      <th>YUTorah Online - Shabbos Shiur 24- Shitas R' Yehuda 2 (Rabbi Assaf Bednarsh)</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   YUTorah Online - (6) Rabbi Aaron Lichtenstein Meets the Rebbe (Rabbi Dr. Aaron Rakeffet-Rothkoff)  \\\n",
       "0                                                0.0                                                   \n",
       "1                                                0.0                                                   \n",
       "2                                                1.0                                                   \n",
       "3                                                0.0                                                   \n",
       "\n",
       "   YUTorah Online - (7) Seminary or Yeshiva - Yeshiva University in 1941 (Rabbi Dr. Aaron Rakeffet-Rothkoff)  \\\n",
       "0                                                0.0                                                           \n",
       "1                                                0.0                                                           \n",
       "2                                                1.0                                                           \n",
       "3                                                0.0                                                           \n",
       "\n",
       "   YUTorah Online - (8) The Rav's Understanding of what Yeshiva University Should Be (Rabbi Dr. Aaron Rakeffet-Rothkoff)  \\\n",
       "0                                                0.0                                                                       \n",
       "1                                                0.0                                                                       \n",
       "2                                                1.0                                                                       \n",
       "3                                                0.0                                                                       \n",
       "\n",
       "   YUTorah Online - Appreciating The Human Touch in Psak Halacha (Rabbi Shay Schachter)  \\\n",
       "0                                                1.0                                      \n",
       "1                                                0.0                                      \n",
       "2                                                0.0                                      \n",
       "3                                                0.0                                      \n",
       "\n",
       "   YUTorah Online - Can the Bracha on the Neiros be Made After one Lights (Rabbi Baruch Simon)  \\\n",
       "0                                                0.0                                             \n",
       "1                                                1.0                                             \n",
       "2                                                0.0                                             \n",
       "3                                                0.0                                             \n",
       "\n",
       "   YUTorah Online - Chanukah 5783: Zman Hadlakat Ner Chnukah (Rabbi Baruch Simon)  \\\n",
       "0                                                0.0                                \n",
       "1                                                1.0                                \n",
       "2                                                0.0                                \n",
       "3                                                0.0                                \n",
       "\n",
       "   YUTorah Online - KJ's Dr. William Major Memorial Advanced Shiur in Talmud with Rabbi Dr. Jeremy Wieder (Rabbi Jeremy Wieder)  \\\n",
       "0                                                0.0                                                                              \n",
       "1                                                0.0                                                                              \n",
       "2                                                0.0                                                                              \n",
       "3                                                1.0                                                                              \n",
       "\n",
       "   YUTorah Online - LA SHIUR( Parshat Vayishlach): Kavod Shabbos (Rabbi Baruch Simon)  \\\n",
       "0                                                0.0                                    \n",
       "1                                                1.0                                    \n",
       "2                                                0.0                                    \n",
       "3                                                0.0                                    \n",
       "\n",
       "   YUTorah Online - Lighting Candles Latkes and Donuts - Halachic Issues That Arise at Chanukah (Rabbi Zvi Sobolofsky)  \\\n",
       "0                                                1.0                                                                     \n",
       "1                                                0.0                                                                     \n",
       "2                                                0.0                                                                     \n",
       "3                                                0.0                                                                     \n",
       "\n",
       "   YUTorah Online - Parshas Vayishlach - Yaakov, Yoseif, and the significance of Chazara (Rabbi Elchanan Adler)  \\\n",
       "0                                                1.0                                                              \n",
       "1                                                0.0                                                              \n",
       "2                                                0.0                                                              \n",
       "3                                                0.0                                                              \n",
       "\n",
       "   YUTorah Online - R. R. Taragin Neir Ish UBeso Chanukah 11-18-18 (Rabbi Reuven Taragin)  \\\n",
       "0                                                0.0                                        \n",
       "1                                                0.0                                        \n",
       "2                                                0.0                                        \n",
       "3                                                1.0                                        \n",
       "\n",
       "   YUTorah Online - Shabbos Shiur 24- Shitas R' Yehuda 2 (Rabbi Assaf Bednarsh)  \n",
       "0                                                0.0                             \n",
       "1                                                0.0                             \n",
       "2                                                0.0                             \n",
       "3                                                1.0                             "
      ]
     },
     "execution_count": 30,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#drop user index\n",
    "DfLectureItem = dfm.drop('user', 1) \n",
    "DfLectureItem.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 31,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>YUTorah Online - (6) Rabbi Aaron Lichtenstein Meets the Rebbe (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <th>YUTorah Online - (7) Seminary or Yeshiva - Yeshiva University in 1941 (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <th>YUTorah Online - (8) The Rav's Understanding of what Yeshiva University Should Be (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <th>YUTorah Online - Appreciating The Human Touch in Psak Halacha (Rabbi Shay Schachter)</th>\n",
       "      <th>YUTorah Online - Can the Bracha on the Neiros be Made After one Lights (Rabbi Baruch Simon)</th>\n",
       "      <th>YUTorah Online - Chanukah 5783: Zman Hadlakat Ner Chnukah (Rabbi Baruch Simon)</th>\n",
       "      <th>YUTorah Online - KJ's Dr. William Major Memorial Advanced Shiur in Talmud with Rabbi Dr. Jeremy Wieder (Rabbi Jeremy Wieder)</th>\n",
       "      <th>YUTorah Online - LA SHIUR( Parshat Vayishlach): Kavod Shabbos (Rabbi Baruch Simon)</th>\n",
       "      <th>YUTorah Online - Lighting Candles Latkes and Donuts - Halachic Issues That Arise at Chanukah (Rabbi Zvi Sobolofsky)</th>\n",
       "      <th>YUTorah Online - Parshas Vayishlach - Yaakov, Yoseif, and the significance of Chazara (Rabbi Elchanan Adler)</th>\n",
       "      <th>YUTorah Online - R. R. Taragin Neir Ish UBeso Chanukah 11-18-18 (Rabbi Reuven Taragin)</th>\n",
       "      <th>YUTorah Online - Shabbos Shiur 24- Shitas R' Yehuda 2 (Rabbi Assaf Bednarsh)</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   YUTorah Online - (6) Rabbi Aaron Lichtenstein Meets the Rebbe (Rabbi Dr. Aaron Rakeffet-Rothkoff)  \\\n",
       "0                                                0.0                                                   \n",
       "1                                                0.0                                                   \n",
       "2                                                1.0                                                   \n",
       "3                                                0.0                                                   \n",
       "\n",
       "   YUTorah Online - (7) Seminary or Yeshiva - Yeshiva University in 1941 (Rabbi Dr. Aaron Rakeffet-Rothkoff)  \\\n",
       "0                                                0.0                                                           \n",
       "1                                                0.0                                                           \n",
       "2                                                1.0                                                           \n",
       "3                                                0.0                                                           \n",
       "\n",
       "   YUTorah Online - (8) The Rav's Understanding of what Yeshiva University Should Be (Rabbi Dr. Aaron Rakeffet-Rothkoff)  \\\n",
       "0                                                0.0                                                                       \n",
       "1                                                0.0                                                                       \n",
       "2                                                1.0                                                                       \n",
       "3                                                0.0                                                                       \n",
       "\n",
       "   YUTorah Online - Appreciating The Human Touch in Psak Halacha (Rabbi Shay Schachter)  \\\n",
       "0                                                1.0                                      \n",
       "1                                                0.0                                      \n",
       "2                                                0.0                                      \n",
       "3                                                0.0                                      \n",
       "\n",
       "   YUTorah Online - Can the Bracha on the Neiros be Made After one Lights (Rabbi Baruch Simon)  \\\n",
       "0                                                0.0                                             \n",
       "1                                                1.0                                             \n",
       "2                                                0.0                                             \n",
       "3                                                0.0                                             \n",
       "\n",
       "   YUTorah Online - Chanukah 5783: Zman Hadlakat Ner Chnukah (Rabbi Baruch Simon)  \\\n",
       "0                                                0.0                                \n",
       "1                                                1.0                                \n",
       "2                                                0.0                                \n",
       "3                                                0.0                                \n",
       "\n",
       "   YUTorah Online - KJ's Dr. William Major Memorial Advanced Shiur in Talmud with Rabbi Dr. Jeremy Wieder (Rabbi Jeremy Wieder)  \\\n",
       "0                                                0.0                                                                              \n",
       "1                                                0.0                                                                              \n",
       "2                                                0.0                                                                              \n",
       "3                                                1.0                                                                              \n",
       "\n",
       "   YUTorah Online - LA SHIUR( Parshat Vayishlach): Kavod Shabbos (Rabbi Baruch Simon)  \\\n",
       "0                                                0.0                                    \n",
       "1                                                1.0                                    \n",
       "2                                                0.0                                    \n",
       "3                                                0.0                                    \n",
       "\n",
       "   YUTorah Online - Lighting Candles Latkes and Donuts - Halachic Issues That Arise at Chanukah (Rabbi Zvi Sobolofsky)  \\\n",
       "0                                                1.0                                                                     \n",
       "1                                                0.0                                                                     \n",
       "2                                                0.0                                                                     \n",
       "3                                                0.0                                                                     \n",
       "\n",
       "   YUTorah Online - Parshas Vayishlach - Yaakov, Yoseif, and the significance of Chazara (Rabbi Elchanan Adler)  \\\n",
       "0                                                1.0                                                              \n",
       "1                                                0.0                                                              \n",
       "2                                                0.0                                                              \n",
       "3                                                0.0                                                              \n",
       "\n",
       "   YUTorah Online - R. R. Taragin Neir Ish UBeso Chanukah 11-18-18 (Rabbi Reuven Taragin)  \\\n",
       "0                                                0.0                                        \n",
       "1                                                0.0                                        \n",
       "2                                                0.0                                        \n",
       "3                                                1.0                                        \n",
       "\n",
       "   YUTorah Online - Shabbos Shiur 24- Shitas R' Yehuda 2 (Rabbi Assaf Bednarsh)  \n",
       "0                                                0.0                             \n",
       "1                                                0.0                             \n",
       "2                                                0.0                             \n",
       "3                                                1.0                             "
      ]
     },
     "execution_count": 31,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#normalizing even though we don't have to worry about normalization for binary data\n",
    "DfLectureItemNorm = DfLectureItem / np.sqrt(np.square(DfLectureItem).sum(axis=0)) \n",
    "DfLectureItemNorm.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 32,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>YUTorah Online - (6) Rabbi Aaron Lichtenstein Meets the Rebbe (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <th>YUTorah Online - (7) Seminary or Yeshiva - Yeshiva University in 1941 (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <th>YUTorah Online - (8) The Rav's Understanding of what Yeshiva University Should Be (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <th>YUTorah Online - Appreciating The Human Touch in Psak Halacha (Rabbi Shay Schachter)</th>\n",
       "      <th>YUTorah Online - Can the Bracha on the Neiros be Made After one Lights (Rabbi Baruch Simon)</th>\n",
       "      <th>YUTorah Online - Chanukah 5783: Zman Hadlakat Ner Chnukah (Rabbi Baruch Simon)</th>\n",
       "      <th>YUTorah Online - KJ's Dr. William Major Memorial Advanced Shiur in Talmud with Rabbi Dr. Jeremy Wieder (Rabbi Jeremy Wieder)</th>\n",
       "      <th>YUTorah Online - LA SHIUR( Parshat Vayishlach): Kavod Shabbos (Rabbi Baruch Simon)</th>\n",
       "      <th>YUTorah Online - Lighting Candles Latkes and Donuts - Halachic Issues That Arise at Chanukah (Rabbi Zvi Sobolofsky)</th>\n",
       "      <th>YUTorah Online - Parshas Vayishlach - Yaakov, Yoseif, and the significance of Chazara (Rabbi Elchanan Adler)</th>\n",
       "      <th>YUTorah Online - R. R. Taragin Neir Ish UBeso Chanukah 11-18-18 (Rabbi Reuven Taragin)</th>\n",
       "      <th>YUTorah Online - Shabbos Shiur 24- Shitas R' Yehuda 2 (Rabbi Assaf Bednarsh)</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>YUTorah Online - (6) Rabbi Aaron Lichtenstein Meets the Rebbe (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>YUTorah Online - (7) Seminary or Yeshiva - Yeshiva University in 1941 (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>YUTorah Online - (8) The Rav's Understanding of what Yeshiva University Should Be (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>YUTorah Online - Appreciating The Human Touch in Psak Halacha (Rabbi Shay Schachter)</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>YUTorah Online - Can the Bracha on the Neiros be Made After one Lights (Rabbi Baruch Simon)</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                                    YUTorah Online - (6) Rabbi Aaron Lichtenstein Meets the Rebbe (Rabbi Dr. Aaron Rakeffet-Rothkoff)  \\\n",
       "YUTorah Online - (6) Rabbi Aaron Lichtenstein M...                                                1.0                                                   \n",
       "YUTorah Online - (7) Seminary or Yeshiva - Yesh...                                                1.0                                                   \n",
       "YUTorah Online - (8) The Rav's Understanding of...                                                1.0                                                   \n",
       "YUTorah Online - Appreciating The Human Touch i...                                                0.0                                                   \n",
       "YUTorah Online - Can the Bracha on the Neiros b...                                                0.0                                                   \n",
       "\n",
       "                                                    YUTorah Online - (7) Seminary or Yeshiva - Yeshiva University in 1941 (Rabbi Dr. Aaron Rakeffet-Rothkoff)  \\\n",
       "YUTorah Online - (6) Rabbi Aaron Lichtenstein M...                                                1.0                                                           \n",
       "YUTorah Online - (7) Seminary or Yeshiva - Yesh...                                                1.0                                                           \n",
       "YUTorah Online - (8) The Rav's Understanding of...                                                1.0                                                           \n",
       "YUTorah Online - Appreciating The Human Touch i...                                                0.0                                                           \n",
       "YUTorah Online - Can the Bracha on the Neiros b...                                                0.0                                                           \n",
       "\n",
       "                                                    YUTorah Online - (8) The Rav's Understanding of what Yeshiva University Should Be (Rabbi Dr. Aaron Rakeffet-Rothkoff)  \\\n",
       "YUTorah Online - (6) Rabbi Aaron Lichtenstein M...                                                1.0                                                                       \n",
       "YUTorah Online - (7) Seminary or Yeshiva - Yesh...                                                1.0                                                                       \n",
       "YUTorah Online - (8) The Rav's Understanding of...                                                1.0                                                                       \n",
       "YUTorah Online - Appreciating The Human Touch i...                                                0.0                                                                       \n",
       "YUTorah Online - Can the Bracha on the Neiros b...                                                0.0                                                                       \n",
       "\n",
       "                                                    YUTorah Online - Appreciating The Human Touch in Psak Halacha (Rabbi Shay Schachter)  \\\n",
       "YUTorah Online - (6) Rabbi Aaron Lichtenstein M...                                                0.0                                      \n",
       "YUTorah Online - (7) Seminary or Yeshiva - Yesh...                                                0.0                                      \n",
       "YUTorah Online - (8) The Rav's Understanding of...                                                0.0                                      \n",
       "YUTorah Online - Appreciating The Human Touch i...                                                1.0                                      \n",
       "YUTorah Online - Can the Bracha on the Neiros b...                                                0.0                                      \n",
       "\n",
       "                                                    YUTorah Online - Can the Bracha on the Neiros be Made After one Lights (Rabbi Baruch Simon)  \\\n",
       "YUTorah Online - (6) Rabbi Aaron Lichtenstein M...                                                0.0                                             \n",
       "YUTorah Online - (7) Seminary or Yeshiva - Yesh...                                                0.0                                             \n",
       "YUTorah Online - (8) The Rav's Understanding of...                                                0.0                                             \n",
       "YUTorah Online - Appreciating The Human Touch i...                                                0.0                                             \n",
       "YUTorah Online - Can the Bracha on the Neiros b...                                                1.0                                             \n",
       "\n",
       "                                                    YUTorah Online - Chanukah 5783: Zman Hadlakat Ner Chnukah (Rabbi Baruch Simon)  \\\n",
       "YUTorah Online - (6) Rabbi Aaron Lichtenstein M...                                                0.0                                \n",
       "YUTorah Online - (7) Seminary or Yeshiva - Yesh...                                                0.0                                \n",
       "YUTorah Online - (8) The Rav's Understanding of...                                                0.0                                \n",
       "YUTorah Online - Appreciating The Human Touch i...                                                0.0                                \n",
       "YUTorah Online - Can the Bracha on the Neiros b...                                                1.0                                \n",
       "\n",
       "                                                    YUTorah Online - KJ's Dr. William Major Memorial Advanced Shiur in Talmud with Rabbi Dr. Jeremy Wieder (Rabbi Jeremy Wieder)  \\\n",
       "YUTorah Online - (6) Rabbi Aaron Lichtenstein M...                                                0.0                                                                              \n",
       "YUTorah Online - (7) Seminary or Yeshiva - Yesh...                                                0.0                                                                              \n",
       "YUTorah Online - (8) The Rav's Understanding of...                                                0.0                                                                              \n",
       "YUTorah Online - Appreciating The Human Touch i...                                                0.0                                                                              \n",
       "YUTorah Online - Can the Bracha on the Neiros b...                                                0.0                                                                              \n",
       "\n",
       "                                                    YUTorah Online - LA SHIUR( Parshat Vayishlach): Kavod Shabbos (Rabbi Baruch Simon)  \\\n",
       "YUTorah Online - (6) Rabbi Aaron Lichtenstein M...                                                0.0                                    \n",
       "YUTorah Online - (7) Seminary or Yeshiva - Yesh...                                                0.0                                    \n",
       "YUTorah Online - (8) The Rav's Understanding of...                                                0.0                                    \n",
       "YUTorah Online - Appreciating The Human Touch i...                                                0.0                                    \n",
       "YUTorah Online - Can the Bracha on the Neiros b...                                                1.0                                    \n",
       "\n",
       "                                                    YUTorah Online - Lighting Candles Latkes and Donuts - Halachic Issues That Arise at Chanukah (Rabbi Zvi Sobolofsky)  \\\n",
       "YUTorah Online - (6) Rabbi Aaron Lichtenstein M...                                                0.0                                                                     \n",
       "YUTorah Online - (7) Seminary or Yeshiva - Yesh...                                                0.0                                                                     \n",
       "YUTorah Online - (8) The Rav's Understanding of...                                                0.0                                                                     \n",
       "YUTorah Online - Appreciating The Human Touch i...                                                1.0                                                                     \n",
       "YUTorah Online - Can the Bracha on the Neiros b...                                                0.0                                                                     \n",
       "\n",
       "                                                    YUTorah Online - Parshas Vayishlach - Yaakov, Yoseif, and the significance of Chazara (Rabbi Elchanan Adler)  \\\n",
       "YUTorah Online - (6) Rabbi Aaron Lichtenstein M...                                                0.0                                                              \n",
       "YUTorah Online - (7) Seminary or Yeshiva - Yesh...                                                0.0                                                              \n",
       "YUTorah Online - (8) The Rav's Understanding of...                                                0.0                                                              \n",
       "YUTorah Online - Appreciating The Human Touch i...                                                1.0                                                              \n",
       "YUTorah Online - Can the Bracha on the Neiros b...                                                0.0                                                              \n",
       "\n",
       "                                                    YUTorah Online - R. R. Taragin Neir Ish UBeso Chanukah 11-18-18 (Rabbi Reuven Taragin)  \\\n",
       "YUTorah Online - (6) Rabbi Aaron Lichtenstein M...                                                0.0                                        \n",
       "YUTorah Online - (7) Seminary or Yeshiva - Yesh...                                                0.0                                        \n",
       "YUTorah Online - (8) The Rav's Understanding of...                                                0.0                                        \n",
       "YUTorah Online - Appreciating The Human Touch i...                                                0.0                                        \n",
       "YUTorah Online - Can the Bracha on the Neiros b...                                                0.0                                        \n",
       "\n",
       "                                                    YUTorah Online - Shabbos Shiur 24- Shitas R' Yehuda 2 (Rabbi Assaf Bednarsh)  \n",
       "YUTorah Online - (6) Rabbi Aaron Lichtenstein M...                                                0.0                             \n",
       "YUTorah Online - (7) Seminary or Yeshiva - Yesh...                                                0.0                             \n",
       "YUTorah Online - (8) The Rav's Understanding of...                                                0.0                             \n",
       "YUTorah Online - Appreciating The Human Touch i...                                                0.0                             \n",
       "YUTorah Online - Can the Bracha on the Neiros b...                                                0.0                             "
      ]
     },
     "execution_count": 32,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Calculating with Vectors to compute Cosine Similarities\n",
    "ItemItemSim = DfLectureItemNorm.transpose().dot(DfLectureItemNorm) \n",
    "ItemItemSim.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 33,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>1</th>\n",
       "      <th>2</th>\n",
       "      <th>3</th>\n",
       "      <th>4</th>\n",
       "      <th>5</th>\n",
       "      <th>6</th>\n",
       "      <th>7</th>\n",
       "      <th>8</th>\n",
       "      <th>9</th>\n",
       "      <th>10</th>\n",
       "      <th>11</th>\n",
       "      <th>12</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>YUTorah Online - (6) Rabbi Aaron Lichtenstein Meets the Rebbe (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>YUTorah Online - (7) Seminary or Yeshiva - Yeshiva University in 1941 (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>YUTorah Online - (8) The Rav's Understanding of what Yeshiva University Should Be (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>YUTorah Online - Appreciating The Human Touch in Psak Halacha (Rabbi Shay Schachter)</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>YUTorah Online - Can the Bracha on the Neiros be Made After one Lights (Rabbi Baruch Simon)</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                                     1    2    3    4    5   \\\n",
       "YUTorah Online - (6) Rabbi Aaron Lichtenstein M...  NaN  NaN  NaN  NaN  NaN   \n",
       "YUTorah Online - (7) Seminary or Yeshiva - Yesh...  NaN  NaN  NaN  NaN  NaN   \n",
       "YUTorah Online - (8) The Rav's Understanding of...  NaN  NaN  NaN  NaN  NaN   \n",
       "YUTorah Online - Appreciating The Human Touch i...  NaN  NaN  NaN  NaN  NaN   \n",
       "YUTorah Online - Can the Bracha on the Neiros b...  NaN  NaN  NaN  NaN  NaN   \n",
       "\n",
       "                                                     6    7    8    9    10  \\\n",
       "YUTorah Online - (6) Rabbi Aaron Lichtenstein M...  NaN  NaN  NaN  NaN  NaN   \n",
       "YUTorah Online - (7) Seminary or Yeshiva - Yesh...  NaN  NaN  NaN  NaN  NaN   \n",
       "YUTorah Online - (8) The Rav's Understanding of...  NaN  NaN  NaN  NaN  NaN   \n",
       "YUTorah Online - Appreciating The Human Touch i...  NaN  NaN  NaN  NaN  NaN   \n",
       "YUTorah Online - Can the Bracha on the Neiros b...  NaN  NaN  NaN  NaN  NaN   \n",
       "\n",
       "                                                     11   12  \n",
       "YUTorah Online - (6) Rabbi Aaron Lichtenstein M...  NaN  NaN  \n",
       "YUTorah Online - (7) Seminary or Yeshiva - Yesh...  NaN  NaN  \n",
       "YUTorah Online - (8) The Rav's Understanding of...  NaN  NaN  \n",
       "YUTorah Online - Appreciating The Human Touch i...  NaN  NaN  \n",
       "YUTorah Online - Can the Bracha on the Neiros b...  NaN  NaN  "
      ]
     },
     "execution_count": 33,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#Create placeholder items for closest neighbours to an item\n",
    "ItemNeighbours = pd.DataFrame(index=ItemItemSim.columns,columns=range(1,13))\n",
    "ItemNeighbours.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 34,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Loop through our similarity dataframe and fill in neighbouring item names\n",
    "for i in range(0,len(ItemItemSim.columns)):\n",
    "    ItemNeighbours.iloc[i,:12] = ItemItemSim.iloc[0:,i].sort_values(ascending=False)[:12].index\n",
    "    #we only have 12 items, so we can max recommend 12 items (itself included)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 35,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>2</th>\n",
       "      <th>3</th>\n",
       "      <th>4</th>\n",
       "      <th>5</th>\n",
       "      <th>6</th>\n",
       "      <th>7</th>\n",
       "      <th>8</th>\n",
       "      <th>9</th>\n",
       "      <th>10</th>\n",
       "      <th>11</th>\n",
       "      <th>12</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>YUTorah Online - (6) Rabbi Aaron Lichtenstein Meets the Rebbe (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <td>YUTorah Online - (7) Seminary or Yeshiva - Yes...</td>\n",
       "      <td>YUTorah Online - (8) The Rav's Understanding o...</td>\n",
       "      <td>YUTorah Online - Appreciating The Human Touch ...</td>\n",
       "      <td>YUTorah Online - Can the Bracha on the Neiros ...</td>\n",
       "      <td>YUTorah Online - Chanukah 5783: Zman Hadlakat ...</td>\n",
       "      <td>YUTorah Online - KJ's Dr. William Major Memori...</td>\n",
       "      <td>YUTorah Online - LA SHIUR( Parshat Vayishlach)...</td>\n",
       "      <td>YUTorah Online - Lighting Candles Latkes and D...</td>\n",
       "      <td>YUTorah Online - Parshas Vayishlach - Yaakov, ...</td>\n",
       "      <td>YUTorah Online - R. R. Taragin Neir Ish UBeso ...</td>\n",
       "      <td>YUTorah Online - Shabbos Shiur 24- Shitas R' Y...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>YUTorah Online - (7) Seminary or Yeshiva - Yeshiva University in 1941 (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <td>YUTorah Online - (7) Seminary or Yeshiva - Yes...</td>\n",
       "      <td>YUTorah Online - (8) The Rav's Understanding o...</td>\n",
       "      <td>YUTorah Online - Appreciating The Human Touch ...</td>\n",
       "      <td>YUTorah Online - Can the Bracha on the Neiros ...</td>\n",
       "      <td>YUTorah Online - Chanukah 5783: Zman Hadlakat ...</td>\n",
       "      <td>YUTorah Online - KJ's Dr. William Major Memori...</td>\n",
       "      <td>YUTorah Online - LA SHIUR( Parshat Vayishlach)...</td>\n",
       "      <td>YUTorah Online - Lighting Candles Latkes and D...</td>\n",
       "      <td>YUTorah Online - Parshas Vayishlach - Yaakov, ...</td>\n",
       "      <td>YUTorah Online - R. R. Taragin Neir Ish UBeso ...</td>\n",
       "      <td>YUTorah Online - Shabbos Shiur 24- Shitas R' Y...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>YUTorah Online - (8) The Rav's Understanding of what Yeshiva University Should Be (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <td>YUTorah Online - (7) Seminary or Yeshiva - Yes...</td>\n",
       "      <td>YUTorah Online - (8) The Rav's Understanding o...</td>\n",
       "      <td>YUTorah Online - Appreciating The Human Touch ...</td>\n",
       "      <td>YUTorah Online - Can the Bracha on the Neiros ...</td>\n",
       "      <td>YUTorah Online - Chanukah 5783: Zman Hadlakat ...</td>\n",
       "      <td>YUTorah Online - KJ's Dr. William Major Memori...</td>\n",
       "      <td>YUTorah Online - LA SHIUR( Parshat Vayishlach)...</td>\n",
       "      <td>YUTorah Online - Lighting Candles Latkes and D...</td>\n",
       "      <td>YUTorah Online - Parshas Vayishlach - Yaakov, ...</td>\n",
       "      <td>YUTorah Online - R. R. Taragin Neir Ish UBeso ...</td>\n",
       "      <td>YUTorah Online - Shabbos Shiur 24- Shitas R' Y...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>YUTorah Online - Appreciating The Human Touch in Psak Halacha (Rabbi Shay Schachter)</th>\n",
       "      <td>YUTorah Online - Lighting Candles Latkes and D...</td>\n",
       "      <td>YUTorah Online - Parshas Vayishlach - Yaakov, ...</td>\n",
       "      <td>YUTorah Online - (6) Rabbi Aaron Lichtenstein ...</td>\n",
       "      <td>YUTorah Online - (7) Seminary or Yeshiva - Yes...</td>\n",
       "      <td>YUTorah Online - (8) The Rav's Understanding o...</td>\n",
       "      <td>YUTorah Online - Can the Bracha on the Neiros ...</td>\n",
       "      <td>YUTorah Online - Chanukah 5783: Zman Hadlakat ...</td>\n",
       "      <td>YUTorah Online - KJ's Dr. William Major Memori...</td>\n",
       "      <td>YUTorah Online - LA SHIUR( Parshat Vayishlach)...</td>\n",
       "      <td>YUTorah Online - R. R. Taragin Neir Ish UBeso ...</td>\n",
       "      <td>YUTorah Online - Shabbos Shiur 24- Shitas R' Y...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>YUTorah Online - Can the Bracha on the Neiros be Made After one Lights (Rabbi Baruch Simon)</th>\n",
       "      <td>YUTorah Online - Chanukah 5783: Zman Hadlakat ...</td>\n",
       "      <td>YUTorah Online - LA SHIUR( Parshat Vayishlach)...</td>\n",
       "      <td>YUTorah Online - (6) Rabbi Aaron Lichtenstein ...</td>\n",
       "      <td>YUTorah Online - (7) Seminary or Yeshiva - Yes...</td>\n",
       "      <td>YUTorah Online - (8) The Rav's Understanding o...</td>\n",
       "      <td>YUTorah Online - Appreciating The Human Touch ...</td>\n",
       "      <td>YUTorah Online - KJ's Dr. William Major Memori...</td>\n",
       "      <td>YUTorah Online - Lighting Candles Latkes and D...</td>\n",
       "      <td>YUTorah Online - Parshas Vayishlach - Yaakov, ...</td>\n",
       "      <td>YUTorah Online - R. R. Taragin Neir Ish UBeso ...</td>\n",
       "      <td>YUTorah Online - Shabbos Shiur 24- Shitas R' Y...</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                                                                                   2   \\\n",
       "YUTorah Online - (6) Rabbi Aaron Lichtenstein M...  YUTorah Online - (7) Seminary or Yeshiva - Yes...   \n",
       "YUTorah Online - (7) Seminary or Yeshiva - Yesh...  YUTorah Online - (7) Seminary or Yeshiva - Yes...   \n",
       "YUTorah Online - (8) The Rav's Understanding of...  YUTorah Online - (7) Seminary or Yeshiva - Yes...   \n",
       "YUTorah Online - Appreciating The Human Touch i...  YUTorah Online - Lighting Candles Latkes and D...   \n",
       "YUTorah Online - Can the Bracha on the Neiros b...  YUTorah Online - Chanukah 5783: Zman Hadlakat ...   \n",
       "\n",
       "                                                                                                   3   \\\n",
       "YUTorah Online - (6) Rabbi Aaron Lichtenstein M...  YUTorah Online - (8) The Rav's Understanding o...   \n",
       "YUTorah Online - (7) Seminary or Yeshiva - Yesh...  YUTorah Online - (8) The Rav's Understanding o...   \n",
       "YUTorah Online - (8) The Rav's Understanding of...  YUTorah Online - (8) The Rav's Understanding o...   \n",
       "YUTorah Online - Appreciating The Human Touch i...  YUTorah Online - Parshas Vayishlach - Yaakov, ...   \n",
       "YUTorah Online - Can the Bracha on the Neiros b...  YUTorah Online - LA SHIUR( Parshat Vayishlach)...   \n",
       "\n",
       "                                                                                                   4   \\\n",
       "YUTorah Online - (6) Rabbi Aaron Lichtenstein M...  YUTorah Online - Appreciating The Human Touch ...   \n",
       "YUTorah Online - (7) Seminary or Yeshiva - Yesh...  YUTorah Online - Appreciating The Human Touch ...   \n",
       "YUTorah Online - (8) The Rav's Understanding of...  YUTorah Online - Appreciating The Human Touch ...   \n",
       "YUTorah Online - Appreciating The Human Touch i...  YUTorah Online - (6) Rabbi Aaron Lichtenstein ...   \n",
       "YUTorah Online - Can the Bracha on the Neiros b...  YUTorah Online - (6) Rabbi Aaron Lichtenstein ...   \n",
       "\n",
       "                                                                                                   5   \\\n",
       "YUTorah Online - (6) Rabbi Aaron Lichtenstein M...  YUTorah Online - Can the Bracha on the Neiros ...   \n",
       "YUTorah Online - (7) Seminary or Yeshiva - Yesh...  YUTorah Online - Can the Bracha on the Neiros ...   \n",
       "YUTorah Online - (8) The Rav's Understanding of...  YUTorah Online - Can the Bracha on the Neiros ...   \n",
       "YUTorah Online - Appreciating The Human Touch i...  YUTorah Online - (7) Seminary or Yeshiva - Yes...   \n",
       "YUTorah Online - Can the Bracha on the Neiros b...  YUTorah Online - (7) Seminary or Yeshiva - Yes...   \n",
       "\n",
       "                                                                                                   6   \\\n",
       "YUTorah Online - (6) Rabbi Aaron Lichtenstein M...  YUTorah Online - Chanukah 5783: Zman Hadlakat ...   \n",
       "YUTorah Online - (7) Seminary or Yeshiva - Yesh...  YUTorah Online - Chanukah 5783: Zman Hadlakat ...   \n",
       "YUTorah Online - (8) The Rav's Understanding of...  YUTorah Online - Chanukah 5783: Zman Hadlakat ...   \n",
       "YUTorah Online - Appreciating The Human Touch i...  YUTorah Online - (8) The Rav's Understanding o...   \n",
       "YUTorah Online - Can the Bracha on the Neiros b...  YUTorah Online - (8) The Rav's Understanding o...   \n",
       "\n",
       "                                                                                                   7   \\\n",
       "YUTorah Online - (6) Rabbi Aaron Lichtenstein M...  YUTorah Online - KJ's Dr. William Major Memori...   \n",
       "YUTorah Online - (7) Seminary or Yeshiva - Yesh...  YUTorah Online - KJ's Dr. William Major Memori...   \n",
       "YUTorah Online - (8) The Rav's Understanding of...  YUTorah Online - KJ's Dr. William Major Memori...   \n",
       "YUTorah Online - Appreciating The Human Touch i...  YUTorah Online - Can the Bracha on the Neiros ...   \n",
       "YUTorah Online - Can the Bracha on the Neiros b...  YUTorah Online - Appreciating The Human Touch ...   \n",
       "\n",
       "                                                                                                   8   \\\n",
       "YUTorah Online - (6) Rabbi Aaron Lichtenstein M...  YUTorah Online - LA SHIUR( Parshat Vayishlach)...   \n",
       "YUTorah Online - (7) Seminary or Yeshiva - Yesh...  YUTorah Online - LA SHIUR( Parshat Vayishlach)...   \n",
       "YUTorah Online - (8) The Rav's Understanding of...  YUTorah Online - LA SHIUR( Parshat Vayishlach)...   \n",
       "YUTorah Online - Appreciating The Human Touch i...  YUTorah Online - Chanukah 5783: Zman Hadlakat ...   \n",
       "YUTorah Online - Can the Bracha on the Neiros b...  YUTorah Online - KJ's Dr. William Major Memori...   \n",
       "\n",
       "                                                                                                   9   \\\n",
       "YUTorah Online - (6) Rabbi Aaron Lichtenstein M...  YUTorah Online - Lighting Candles Latkes and D...   \n",
       "YUTorah Online - (7) Seminary or Yeshiva - Yesh...  YUTorah Online - Lighting Candles Latkes and D...   \n",
       "YUTorah Online - (8) The Rav's Understanding of...  YUTorah Online - Lighting Candles Latkes and D...   \n",
       "YUTorah Online - Appreciating The Human Touch i...  YUTorah Online - KJ's Dr. William Major Memori...   \n",
       "YUTorah Online - Can the Bracha on the Neiros b...  YUTorah Online - Lighting Candles Latkes and D...   \n",
       "\n",
       "                                                                                                   10  \\\n",
       "YUTorah Online - (6) Rabbi Aaron Lichtenstein M...  YUTorah Online - Parshas Vayishlach - Yaakov, ...   \n",
       "YUTorah Online - (7) Seminary or Yeshiva - Yesh...  YUTorah Online - Parshas Vayishlach - Yaakov, ...   \n",
       "YUTorah Online - (8) The Rav's Understanding of...  YUTorah Online - Parshas Vayishlach - Yaakov, ...   \n",
       "YUTorah Online - Appreciating The Human Touch i...  YUTorah Online - LA SHIUR( Parshat Vayishlach)...   \n",
       "YUTorah Online - Can the Bracha on the Neiros b...  YUTorah Online - Parshas Vayishlach - Yaakov, ...   \n",
       "\n",
       "                                                                                                   11  \\\n",
       "YUTorah Online - (6) Rabbi Aaron Lichtenstein M...  YUTorah Online - R. R. Taragin Neir Ish UBeso ...   \n",
       "YUTorah Online - (7) Seminary or Yeshiva - Yesh...  YUTorah Online - R. R. Taragin Neir Ish UBeso ...   \n",
       "YUTorah Online - (8) The Rav's Understanding of...  YUTorah Online - R. R. Taragin Neir Ish UBeso ...   \n",
       "YUTorah Online - Appreciating The Human Touch i...  YUTorah Online - R. R. Taragin Neir Ish UBeso ...   \n",
       "YUTorah Online - Can the Bracha on the Neiros b...  YUTorah Online - R. R. Taragin Neir Ish UBeso ...   \n",
       "\n",
       "                                                                                                   12  \n",
       "YUTorah Online - (6) Rabbi Aaron Lichtenstein M...  YUTorah Online - Shabbos Shiur 24- Shitas R' Y...  \n",
       "YUTorah Online - (7) Seminary or Yeshiva - Yesh...  YUTorah Online - Shabbos Shiur 24- Shitas R' Y...  \n",
       "YUTorah Online - (8) The Rav's Understanding of...  YUTorah Online - Shabbos Shiur 24- Shitas R' Y...  \n",
       "YUTorah Online - Appreciating The Human Touch i...  YUTorah Online - Shabbos Shiur 24- Shitas R' Y...  \n",
       "YUTorah Online - Can the Bracha on the Neiros b...  YUTorah Online - Shabbos Shiur 24- Shitas R' Y...  "
      ]
     },
     "execution_count": 35,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#it needs to start at position 1, because position 0 is itself\n",
    "ItemNeighbours.head().iloc[:15,1:13]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Applying the recommender"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 36,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>user</th>\n",
       "      <th>YUTorah Online - (6) Rabbi Aaron Lichtenstein Meets the Rebbe (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <th>YUTorah Online - (7) Seminary or Yeshiva - Yeshiva University in 1941 (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <th>YUTorah Online - (8) The Rav's Understanding of what Yeshiva University Should Be (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <th>YUTorah Online - Appreciating The Human Touch in Psak Halacha (Rabbi Shay Schachter)</th>\n",
       "      <th>YUTorah Online - Can the Bracha on the Neiros be Made After one Lights (Rabbi Baruch Simon)</th>\n",
       "      <th>YUTorah Online - Chanukah 5783: Zman Hadlakat Ner Chnukah (Rabbi Baruch Simon)</th>\n",
       "      <th>YUTorah Online - KJ's Dr. William Major Memorial Advanced Shiur in Talmud with Rabbi Dr. Jeremy Wieder (Rabbi Jeremy Wieder)</th>\n",
       "      <th>YUTorah Online - LA SHIUR( Parshat Vayishlach): Kavod Shabbos (Rabbi Baruch Simon)</th>\n",
       "      <th>YUTorah Online - Lighting Candles Latkes and Donuts - Halachic Issues That Arise at Chanukah (Rabbi Zvi Sobolofsky)</th>\n",
       "      <th>YUTorah Online - Parshas Vayishlach - Yaakov, Yoseif, and the significance of Chazara (Rabbi Elchanan Adler)</th>\n",
       "      <th>YUTorah Online - R. R. Taragin Neir Ish UBeso Chanukah 11-18-18 (Rabbi Reuven Taragin)</th>\n",
       "      <th>YUTorah Online - Shabbos Shiur 24- Shitas R' Yehuda 2 (Rabbi Assaf Bednarsh)</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>A</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>B</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>C</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>D</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  user  \\\n",
       "0    A   \n",
       "1    B   \n",
       "2    C   \n",
       "3    D   \n",
       "\n",
       "  YUTorah Online - (6) Rabbi Aaron Lichtenstein Meets the Rebbe (Rabbi Dr. Aaron Rakeffet-Rothkoff)  \\\n",
       "0                                                NaN                                                  \n",
       "1                                                NaN                                                  \n",
       "2                                                NaN                                                  \n",
       "3                                                NaN                                                  \n",
       "\n",
       "  YUTorah Online - (7) Seminary or Yeshiva - Yeshiva University in 1941 (Rabbi Dr. Aaron Rakeffet-Rothkoff)  \\\n",
       "0                                                NaN                                                          \n",
       "1                                                NaN                                                          \n",
       "2                                                NaN                                                          \n",
       "3                                                NaN                                                          \n",
       "\n",
       "  YUTorah Online - (8) The Rav's Understanding of what Yeshiva University Should Be (Rabbi Dr. Aaron Rakeffet-Rothkoff)  \\\n",
       "0                                                NaN                                                                      \n",
       "1                                                NaN                                                                      \n",
       "2                                                NaN                                                                      \n",
       "3                                                NaN                                                                      \n",
       "\n",
       "  YUTorah Online - Appreciating The Human Touch in Psak Halacha (Rabbi Shay Schachter)  \\\n",
       "0                                                NaN                                     \n",
       "1                                                NaN                                     \n",
       "2                                                NaN                                     \n",
       "3                                                NaN                                     \n",
       "\n",
       "  YUTorah Online - Can the Bracha on the Neiros be Made After one Lights (Rabbi Baruch Simon)  \\\n",
       "0                                                NaN                                            \n",
       "1                                                NaN                                            \n",
       "2                                                NaN                                            \n",
       "3                                                NaN                                            \n",
       "\n",
       "  YUTorah Online - Chanukah 5783: Zman Hadlakat Ner Chnukah (Rabbi Baruch Simon)  \\\n",
       "0                                                NaN                               \n",
       "1                                                NaN                               \n",
       "2                                                NaN                               \n",
       "3                                                NaN                               \n",
       "\n",
       "  YUTorah Online - KJ's Dr. William Major Memorial Advanced Shiur in Talmud with Rabbi Dr. Jeremy Wieder (Rabbi Jeremy Wieder)  \\\n",
       "0                                                NaN                                                                             \n",
       "1                                                NaN                                                                             \n",
       "2                                                NaN                                                                             \n",
       "3                                                NaN                                                                             \n",
       "\n",
       "  YUTorah Online - LA SHIUR( Parshat Vayishlach): Kavod Shabbos (Rabbi Baruch Simon)  \\\n",
       "0                                                NaN                                   \n",
       "1                                                NaN                                   \n",
       "2                                                NaN                                   \n",
       "3                                                NaN                                   \n",
       "\n",
       "  YUTorah Online - Lighting Candles Latkes and Donuts - Halachic Issues That Arise at Chanukah (Rabbi Zvi Sobolofsky)  \\\n",
       "0                                                NaN                                                                    \n",
       "1                                                NaN                                                                    \n",
       "2                                                NaN                                                                    \n",
       "3                                                NaN                                                                    \n",
       "\n",
       "  YUTorah Online - Parshas Vayishlach - Yaakov, Yoseif, and the significance of Chazara (Rabbi Elchanan Adler)  \\\n",
       "0                                                NaN                                                             \n",
       "1                                                NaN                                                             \n",
       "2                                                NaN                                                             \n",
       "3                                                NaN                                                             \n",
       "\n",
       "  YUTorah Online - R. R. Taragin Neir Ish UBeso Chanukah 11-18-18 (Rabbi Reuven Taragin)  \\\n",
       "0                                                NaN                                       \n",
       "1                                                NaN                                       \n",
       "2                                                NaN                                       \n",
       "3                                                NaN                                       \n",
       "\n",
       "  YUTorah Online - Shabbos Shiur 24- Shitas R' Yehuda 2 (Rabbi Assaf Bednarsh)  \n",
       "0                                                NaN                            \n",
       "1                                                NaN                            \n",
       "2                                                NaN                            \n",
       "3                                                NaN                            "
      ]
     },
     "execution_count": 36,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Create a place holder matrix for similarities, and fill in the user column\n",
    "UserItemSimilarity = pd.DataFrame(index=dfm.index,columns=dfm.columns)\n",
    "UserItemSimilarity.iloc[:,:1] = dfm.iloc[:,:1]\n",
    "UserItemSimilarity.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 37,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Getting the similarity scores\n",
    "def getScore(history, similarities):\n",
    "   return sum(history*similarities)/sum(similarities)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 38,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\n",
      "Runtime: 0.07s\n"
     ]
    }
   ],
   "source": [
    "from timeit import default_timer as timer #to see how long the computation will take\n",
    "start = timer()\n",
    "\n",
    "#We now loop through the rows and columns filling in empty spaces with similarity scores.\n",
    "for i in range(0,len(UserItemSimilarity.index)):\n",
    "    for j in range(1,len(UserItemSimilarity.columns)):\n",
    "        user = UserItemSimilarity.index[i]\n",
    "        lecture = UserItemSimilarity.columns[j]\n",
    " \n",
    "        if dfm.loc[i][j] == 1:\n",
    "            UserItemSimilarity.loc[i][j] = 0\n",
    "        else:\n",
    "            ItemTop = ItemNeighbours.loc[lecture][1:9] #\n",
    "            #do not use order but sort_values in latest pandas\n",
    "            ItemTopSimilarity = ItemItemSim.loc[lecture].sort_values(ascending=False)[1:9]\n",
    "            #here we will use the item dataframe, which we generated during item-item matrix \n",
    "            UserLecture = DfLectureItem.loc[user,ItemTop]\n",
    " \n",
    "            UserItemSimilarity.loc[i][j] = getScore(UserLecture,ItemTopSimilarity)\n",
    "\n",
    "end = timer()\n",
    "\n",
    "print('\\nRuntime: %0.2fs' % (end - start))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 39,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>user</th>\n",
       "      <th>YUTorah Online - (6) Rabbi Aaron Lichtenstein Meets the Rebbe (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <th>YUTorah Online - (7) Seminary or Yeshiva - Yeshiva University in 1941 (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <th>YUTorah Online - (8) The Rav's Understanding of what Yeshiva University Should Be (Rabbi Dr. Aaron Rakeffet-Rothkoff)</th>\n",
       "      <th>YUTorah Online - Appreciating The Human Touch in Psak Halacha (Rabbi Shay Schachter)</th>\n",
       "      <th>YUTorah Online - Can the Bracha on the Neiros be Made After one Lights (Rabbi Baruch Simon)</th>\n",
       "      <th>YUTorah Online - Chanukah 5783: Zman Hadlakat Ner Chnukah (Rabbi Baruch Simon)</th>\n",
       "      <th>YUTorah Online - KJ's Dr. William Major Memorial Advanced Shiur in Talmud with Rabbi Dr. Jeremy Wieder (Rabbi Jeremy Wieder)</th>\n",
       "      <th>YUTorah Online - LA SHIUR( Parshat Vayishlach): Kavod Shabbos (Rabbi Baruch Simon)</th>\n",
       "      <th>YUTorah Online - Lighting Candles Latkes and Donuts - Halachic Issues That Arise at Chanukah (Rabbi Zvi Sobolofsky)</th>\n",
       "      <th>YUTorah Online - Parshas Vayishlach - Yaakov, Yoseif, and the significance of Chazara (Rabbi Elchanan Adler)</th>\n",
       "      <th>YUTorah Online - R. R. Taragin Neir Ish UBeso Chanukah 11-18-18 (Rabbi Reuven Taragin)</th>\n",
       "      <th>YUTorah Online - Shabbos Shiur 24- Shitas R' Yehuda 2 (Rabbi Assaf Bednarsh)</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>A</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>B</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>C</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>D</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  user  \\\n",
       "0    A   \n",
       "1    B   \n",
       "2    C   \n",
       "3    D   \n",
       "\n",
       "  YUTorah Online - (6) Rabbi Aaron Lichtenstein Meets the Rebbe (Rabbi Dr. Aaron Rakeffet-Rothkoff)  \\\n",
       "0                                                0.0                                                  \n",
       "1                                                0.0                                                  \n",
       "2                                                  0                                                  \n",
       "3                                                0.0                                                  \n",
       "\n",
       "  YUTorah Online - (7) Seminary or Yeshiva - Yeshiva University in 1941 (Rabbi Dr. Aaron Rakeffet-Rothkoff)  \\\n",
       "0                                                0.0                                                          \n",
       "1                                                0.0                                                          \n",
       "2                                                  0                                                          \n",
       "3                                                0.0                                                          \n",
       "\n",
       "  YUTorah Online - (8) The Rav's Understanding of what Yeshiva University Should Be (Rabbi Dr. Aaron Rakeffet-Rothkoff)  \\\n",
       "0                                                0.0                                                                      \n",
       "1                                                0.0                                                                      \n",
       "2                                                  0                                                                      \n",
       "3                                                0.0                                                                      \n",
       "\n",
       "  YUTorah Online - Appreciating The Human Touch in Psak Halacha (Rabbi Shay Schachter)  \\\n",
       "0                                                  0                                     \n",
       "1                                                0.0                                     \n",
       "2                                                0.0                                     \n",
       "3                                                0.0                                     \n",
       "\n",
       "  YUTorah Online - Can the Bracha on the Neiros be Made After one Lights (Rabbi Baruch Simon)  \\\n",
       "0                                                0.0                                            \n",
       "1                                                  0                                            \n",
       "2                                                0.0                                            \n",
       "3                                                0.0                                            \n",
       "\n",
       "  YUTorah Online - Chanukah 5783: Zman Hadlakat Ner Chnukah (Rabbi Baruch Simon)  \\\n",
       "0                                                0.0                               \n",
       "1                                                  0                               \n",
       "2                                                0.0                               \n",
       "3                                                0.0                               \n",
       "\n",
       "  YUTorah Online - KJ's Dr. William Major Memorial Advanced Shiur in Talmud with Rabbi Dr. Jeremy Wieder (Rabbi Jeremy Wieder)  \\\n",
       "0                                                0.0                                                                             \n",
       "1                                                0.0                                                                             \n",
       "2                                                0.0                                                                             \n",
       "3                                                  0                                                                             \n",
       "\n",
       "  YUTorah Online - LA SHIUR( Parshat Vayishlach): Kavod Shabbos (Rabbi Baruch Simon)  \\\n",
       "0                                                0.0                                   \n",
       "1                                                  0                                   \n",
       "2                                                0.0                                   \n",
       "3                                                0.0                                   \n",
       "\n",
       "  YUTorah Online - Lighting Candles Latkes and Donuts - Halachic Issues That Arise at Chanukah (Rabbi Zvi Sobolofsky)  \\\n",
       "0                                                  0                                                                    \n",
       "1                                                0.0                                                                    \n",
       "2                                                0.0                                                                    \n",
       "3                                                0.0                                                                    \n",
       "\n",
       "  YUTorah Online - Parshas Vayishlach - Yaakov, Yoseif, and the significance of Chazara (Rabbi Elchanan Adler)  \\\n",
       "0                                                  0                                                             \n",
       "1                                                0.0                                                             \n",
       "2                                                0.0                                                             \n",
       "3                                                0.0                                                             \n",
       "\n",
       "  YUTorah Online - R. R. Taragin Neir Ish UBeso Chanukah 11-18-18 (Rabbi Reuven Taragin)  \\\n",
       "0                                                0.0                                       \n",
       "1                                                0.0                                       \n",
       "2                                                0.0                                       \n",
       "3                                                  0                                       \n",
       "\n",
       "  YUTorah Online - Shabbos Shiur 24- Shitas R' Yehuda 2 (Rabbi Assaf Bednarsh)  \n",
       "0                                                0.0                            \n",
       "1                                                0.0                            \n",
       "2                                                0.0                            \n",
       "3                                                  0                            "
      ]
     },
     "execution_count": 39,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "UserItemSimilarity.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 40,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Customer</th>\n",
       "      <th>A</th>\n",
       "      <th>B</th>\n",
       "      <th>C</th>\n",
       "      <th>D</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  Customer    A    B    C    D\n",
       "0      NaN  NaN  NaN  NaN  NaN\n",
       "1      NaN  NaN  NaN  NaN  NaN\n",
       "2      NaN  NaN  NaN  NaN  NaN\n",
       "3      NaN  NaN  NaN  NaN  NaN"
      ]
     },
     "execution_count": 40,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#now generate a matrix of customer based recommendations\n",
    "UserItemRecommend = pd.DataFrame(index=UserItemSimilarity.index, columns=['Customer','A','B','C','D',]) \n",
    "UserItemRecommend.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 41,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Customer</th>\n",
       "      <th>A</th>\n",
       "      <th>B</th>\n",
       "      <th>C</th>\n",
       "      <th>D</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>A</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>B</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>C</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>D</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  Customer    A    B    C    D\n",
       "0        A  NaN  NaN  NaN  NaN\n",
       "1        B  NaN  NaN  NaN  NaN\n",
       "2        C  NaN  NaN  NaN  NaN\n",
       "3        D  NaN  NaN  NaN  NaN"
      ]
     },
     "execution_count": 41,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "UserItemRecommend.iloc[0:,0] = UserItemSimilarity.iloc[:,0]\n",
    "UserItemRecommend.head()"
   ]
  },
  {
   "attachments": {
    "Screen%20Shot%202022-12-19%20at%202.35.58%20PM.png": {
     "image/png": "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tddeI9gGQZkor379+lSqVCm3qqPq/D/++IP27dtHa9euDcohgtlbb71F+fLlC7tDtLMN4+lDhgyhNm3a0N133x2H+ZtvvklVqlShcuXKxdkuP5IXgZT/+c9/PK/Rd999x47g1ltv5Qvs/vvvpxUrVtCpU6dCKiuQbb/99htt3LjRry443jJlylCePHm4TDgjOOE0adKYx585c4YOHDhg/g608s8///jdhRtH2WY9BjfMjh07KEeOHFzmhQsX6IknniDwiC/W8+Lvw2+l398+u22BbFPnWMu1rqv9WAbaro5xmojLnz8/dezYUR3uuKxdu3YcB2Sn38k2J252tq1atYo2bNhAefPmTWBzsWLF6MUXX3Rkk+BE2RBVBMISIeJpD0eEqAyCdURkKVOmpN27d9PAgQOpcePG1LlzZxo1ahRfhA8//DB169aNj9+2bRtHeXv27KG0adNS6tSpaeTIkVS+fHlav349bdq0ifCkRwQKSZcuHT311FOE7n/WrFmpVatWhK98T5o0iVq3bs3HqH/mz59PX331FTspdT6igTp16vAhly9fprfffpuWL1/OZah63HPPPaw3VapUdO7cOT72wQcfpEWLFnFdYF/lypUpS5YsVKFCBV5/5JFHaPv27YT6oAzczHPmzKHZs2cTum65c+emHj16UIMGDVgf9s+YMYPef/993l+8eHHeDl733Xcf/fLLL2wbuqOXLl1iHr169aKCBQva2gan3KdPH47SwR91uuWWWwh8e/bsyYycbOvevTsdO3aM6/Xxxx8TeEAndEF+//13bo8tW7ZQxowZExVJLVmyhPr27cu2de3alZo0acK6nWyDAx02bBhfG+Bao0YNeuGFF6hAgQIh2TZ16lRq1qwZR/d8ouUftPXgwYPp008/NdvLsltWkwkBw0d5+yoiLk50ldBVtAq6t3Xr1uUbG87nxx9/5N3PPPMMNWrUiB2YOh4XHi7ArVu30vTp09nh/fXXX7wb+tEdhcA54Q8OMxRRdVbnq9/Q0a9fP44e4bi+/PJLuvfee6lt27Z8w/fu3Zsd+4QJEwgRAxwrnNcnn3zCDkzZ8PPPP9Px48fZWcJx4VjI3LlzaeLEiTRixAhCt71Lly7sVFBPCJzhlClTOLpaunQpVa9enb755huzGw5HDb144KxcuZJv+JYtWxIiUTvbMmfOTA0bNqRr164R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VMFqPH/+fLCHynFCQAgIgagkkMJnSFRaLkYLASEgBDwmIF1mj4GKOiEgBKKXgDjE6G07sVwICAGPCYhD9BioqBMCQiB6CYhDjN62E8uFgBDwmIA4RI+BijohIASil4A4xOhtO7FcCAgBjwmIQ/QYqKgTAkIgegmIQ4zethPLhYAQ8JiAOESPgYo6ISAEopeAOMTobTuxXAgIAY8JiEP0GKioEwJCIHoJiEOM3rYTy4WAEPCYgLYO8T//+Q/9+OOPJF/Z8bjFHdThWx9gfunSJYcjvdt948YNOnfunHcKRZN2BP744w/66aeftLMrvkHaOUTckPPnz6f777+fqlSpQuXLl6datWrRzp0749se8m/cdGPHjqV169aFfK6uJ6BOTz31FOXPn586duzoyszTp09TkyZNmPkDDzxALVq08IR7IKN+++036tOnD5UqVYoqVarE7bx06dJAh0ds+8qVK5knmL711lsRKzfUgnBfwEbr3/Dhw0NVE9bj4QifffZZKlGiBFWsWJEaNGhAn332WVjLdKNcO4e4YsUKGjhwIAHk448/TmXKlKHvvvuO2rZt6/oJoxzil19+6YaZNucePXqUateuTV999RXbhKjajUyePJm++eYbatmyJbVr146d4ejRo92otD139uzZtGjRInaEcIw///wzDR48mK5evWp7Xjh34rp7+eWXzSL++ecfc123FfC64447uL3QZviD49FJRo0aRXjAwHm/8MILdOrUKerVqxff3zrZadqC7yHqJDVr1vTdfffdvmXLlplmGTcLb5szZ47P6F75cEy3bt3M/V26dOFt2Gc4Bd8777zjq1+/vq948eK+3r17+86cOeM7cuSIr06dOqwH25988kk+/+LFiz6jofhYbO/fv7/PiFx43+LFi1nvzJkzWZ8RNfk++ugj3yeffOIznna+Ro0a+b744gvTDsOZ+Jo3b85lwEYcC0HZ+P3666/7nn76aS7LPMnFinGh+apXr+5bsmQJl2k4sURru379OtuouECR4mV0nxOt1+7EYcOG+fr168dtiuPQDmj7Q4cO2Z0W1n1jxoxhG6ZMmcJLtJmO8vfff7N9xgNER/PYpl9//ZVtxH2DexOyfft23/vvv+/74Ycf+Ldu/6QyDKIUKVKYDjIpVxAZIBqEGDe6aQoixtatW1P27NkJURCOue2228z96Oqp89av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"
    }
   },
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "The cell below does not run for my data. Python is giving the following error:\n",
    "~  '<' not supported between instances of 'str' and 'int'  ~\n",
    "\n",
    "I don't believe there is a \"<\" anywhere in my data. However, I'd have to go over the data and determine what format it is not liking. I just ran into the deadline assigned by the Recommender System's class. \n",
    "\n",
    "The cell below actually happens to be Mr. Rehberg's second to last cell in his recommender system.\n",
    "\n",
    "Had there not been an issue in this notebook, we would have gotten Mr. Rehberg's last cell, where we can see a dataframe of lectures being recommended to users by their user similarity scores. For example, see screenshot of his final dataframe below:\n",
    "\n",
    "![Screen%20Shot%202022-12-19%20at%202.35.58%20PM.png](attachment:Screen%20Shot%202022-12-19%20at%202.35.58%20PM.png)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 42,
   "metadata": {},
   "outputs": [
    {
     "ename": "TypeError",
     "evalue": "'<' not supported between instances of 'str' and 'float'",
     "output_type": "error",
     "traceback": [
      "\u001b[0;31m---------------------------------------------------------------------------\u001b[0m",
      "\u001b[0;31mTypeError\u001b[0m                                 Traceback (most recent call last)",
      "\u001b[0;32m<ipython-input-42-d8be09885671>\u001b[0m in \u001b[0;36m<module>\u001b[0;34m\u001b[0m\n\u001b[1;32m      1\u001b[0m \u001b[0;31m#Instead of having the matrix filled with similarity scores we want to see the product names.\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      2\u001b[0m \u001b[0;32mfor\u001b[0m \u001b[0mi\u001b[0m \u001b[0;32min\u001b[0m \u001b[0mrange\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0mlen\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mUserItemSimilarity\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mindex\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m----> 3\u001b[0;31m     \u001b[0mUserItemRecommend\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0miloc\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mi\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mUserItemSimilarity\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0miloc\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mi\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0msort_values\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mascending\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;32mFalse\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0miloc\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;36m5\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mindex\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mtranspose\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m      4\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      5\u001b[0m \u001b[0mUserItemRecommend\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mhead\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m/opt/anaconda3/lib/python3.8/site-packages/pandas/util/_decorators.py\u001b[0m in \u001b[0;36mwrapper\u001b[0;34m(*args, **kwargs)\u001b[0m\n\u001b[1;32m    309\u001b[0m                     \u001b[0mstacklevel\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mstacklevel\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    310\u001b[0m                 )\n\u001b[0;32m--> 311\u001b[0;31m             \u001b[0;32mreturn\u001b[0m \u001b[0mfunc\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m*\u001b[0m\u001b[0margs\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m**\u001b[0m\u001b[0mkwargs\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    312\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    313\u001b[0m         \u001b[0;32mreturn\u001b[0m \u001b[0mwrapper\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m/opt/anaconda3/lib/python3.8/site-packages/pandas/core/series.py\u001b[0m in \u001b[0;36msort_values\u001b[0;34m(self, axis, ascending, inplace, kind, na_position, ignore_index, key)\u001b[0m\n\u001b[1;32m   3524\u001b[0m         \u001b[0;31m# GH 35922. Make sorting stable by leveraging nargsort\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   3525\u001b[0m         \u001b[0mvalues_to_sort\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mensure_key_mapped\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mkey\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_values\u001b[0m \u001b[0;32mif\u001b[0m \u001b[0mkey\u001b[0m \u001b[0;32melse\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_values\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m-> 3526\u001b[0;31m         \u001b[0msorted_index\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mnargsort\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mvalues_to_sort\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mkind\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mbool\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mascending\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mna_position\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m   3527\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   3528\u001b[0m         result = self._constructor(\n",
      "\u001b[0;32m/opt/anaconda3/lib/python3.8/site-packages/pandas/core/sorting.py\u001b[0m in \u001b[0;36mnargsort\u001b[0;34m(items, kind, ascending, na_position, key, mask)\u001b[0m\n\u001b[1;32m    415\u001b[0m         \u001b[0mnon_nans\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mnon_nans\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m-\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    416\u001b[0m         \u001b[0mnon_nan_idx\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mnon_nan_idx\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m-\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 417\u001b[0;31m     \u001b[0mindexer\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mnon_nan_idx\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mnon_nans\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0margsort\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mkind\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mkind\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    418\u001b[0m     \u001b[0;32mif\u001b[0m \u001b[0;32mnot\u001b[0m \u001b[0mascending\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    419\u001b[0m         \u001b[0mindexer\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mindexer\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m-\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;31mTypeError\u001b[0m: '<' not supported between instances of 'str' and 'float'"
     ]
    }
   ],
   "source": [
    "#Instead of having the matrix filled with similarity scores we want to see the product names.\n",
    "for i in range(0,len(UserItemSimilarity.index)):\n",
    "    UserItemRecommend.iloc[i,1:] = UserItemSimilarity.iloc[i,:].sort_values(ascending=False).iloc[1:5,].index.transpose()\n",
    "\n",
    "UserItemRecommend.head()\n"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.8.3"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
